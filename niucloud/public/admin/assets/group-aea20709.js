import{d as L,f as $,r as M,n as R,h as s,c as i,e as l,w as a,a as r,X as U,u as p,q as n,i as x,t as m,Z as q,s as w,F as f,W as y,C as k,cR as W,ah as X,cS as Z,L as A,M as H,E as J,N as K,a9 as O,aj as Q,b9 as Y,ak as ee,a2 as te,a3 as ae,p as se,g as oe}from"./index-0b74b7aa.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";const T=v=>(se("data-v-73e25207"),v=v(),oe(),v),ne={class:"main-container"},ie={class:"flex justify-between items-center"},re={class:"flex justify-between items-center"},pe={class:"mt-[20px] table-wrap"},de={class:"flex flex-wrap gap-[8px] max-w-[315x]"},ce=["src"],_e={class:"mt-1"},me={class:"flex items-center overflow-hidden whitespace-nowrap"},ue=["src"],fe={key:0,class:"flex items-end h-[65px]"},he=T(()=>r("span",{class:"ml-1 text-sm"},"...",-1)),ge=[he],xe={class:"flex flex-wrap gap-[8px] max-w-[315px]"},ve=["src"],ye={class:"mt-1"},ke={class:"flex items-center overflow-hidden whitespace-nowrap min-w-[250px]"},we=["src"],be={key:0,class:"flex items-end h-[65px]"},Ce=T(()=>r("span",{class:"ml-1 text-sm"},"...",-1)),Ee=[Ce],Se={class:"mt-[16px] flex justify-end"},Ne=L({__name:"group",setup(v){const b=$(),C=M(),t=R({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{keywords:""}}),B=c=>{c&&(c.resetFields(),u())},u=(c=1)=>{t.loading=!0,t.page=c,W({page:t.page,limit:t.limit,...t.searchParam}).then(o=>{t.loading=!1,t.data=o.data.data,t.total=o.data.total}).catch(()=>{t.loading=!1})};u();const F=()=>{b.push("/admin/site/group_edit")},P=c=>{b.push({path:"/admin/site/group_edit",query:{id:c.group_id}})},V=c=>{X.confirm(n("groupDeleteTips"),n("warning"),{confirmButtonText:n("confirm"),cancelButtonText:n("cancel"),type:"warning"}).then(()=>{Z(c).then(()=>{u()}).catch(()=>{})})};return(c,o)=>{const z=A,E=H,h=J,I=K,S=O,g=Q,N=Y,j=ee,D=te,G=ae;return s(),i("div",ne,[l(S,{class:"box-card !border-none setting-card",shadow:"never"},{default:a(()=>[l(S,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:a(()=>[r("div",ie,[l(I,{inline:!0,model:t.searchParam,ref_key:"searchFormRef",ref:C,onSubmit:o[3]||(o[3]=U(()=>{},["prevent"])),class:"search-form"},{default:a(()=>[l(E,{prop:"keywords"},{default:a(()=>[l(z,{modelValue:t.searchParam.keywords,"onUpdate:modelValue":o[0]||(o[0]=e=>t.searchParam.keywords=e),modelModifiers:{trim:!0},placeholder:p(n)("groupNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),l(E,null,{default:a(()=>[l(h,{type:"primary",onClick:o[1]||(o[1]=e=>u())},{default:a(()=>[x(m(p(n)("search")),1)]),_:1}),l(h,{onClick:o[2]||(o[2]=e=>B(C.value))},{default:a(()=>[x(m(p(n)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"]),r("div",re,[l(h,{type:"primary",class:"w-[100px]",onClick:F},{default:a(()=>[x(m(p(n)("addSiteGroup")),1)]),_:1})])])]),_:1}),r("div",pe,[q((s(),w(j,{data:t.data,size:"large"},{empty:a(()=>[r("span",null,m(t.loading?"":p(n)("emptyData")),1)]),default:a(()=>[l(g,{prop:"group_name",label:p(n)("groupName"),"min-width":"150"},null,8,["label"]),l(g,{label:p(n)("appName"),"min-width":"250"},{default:a(({row:e})=>[e.app_list.length>0?(s(),w(N,{key:0,effect:"dark",placement:"top-start","popper-class":"tip-class"},{content:a(()=>[r("div",de,[(s(!0),i(f,null,y(e.app_list,(d,_)=>(s(),i("div",{key:_,class:"flex flex-col items-center"},[r("img",{src:d.icon,class:"w-[54px] h-[54px] rounded-[4px]"},null,8,ce),r("span",_e,m(d.title),1)]))),128))])]),default:a(()=>[r("div",me,[(s(!0),i(f,null,y(e.app_list,(d,_)=>(s(),i("div",{key:_},[_<4?(s(),i("img",{key:0,src:d.icon,class:"w-[54px] h-[54px] mr-[8px] shrink-0 rounded-[4px]"},null,8,ue)):k("",!0)]))),128)),e.app_list.length>4?(s(),i("div",fe,ge)):k("",!0)])]),_:2},1024)):(s(),i(f,{key:1},[],64))]),_:1},8,["label"]),l(g,{label:p(n)("addonName"),"min-width":"250"},{default:a(({row:e})=>[e.addon_list.length>0?(s(),w(N,{key:0,effect:"dark",placement:"top-start","popper-class":"tip-class"},{content:a(()=>[r("div",xe,[(s(!0),i(f,null,y(e.addon_list,(d,_)=>(s(),i("div",{key:_,class:"flex flex-col items-center"},[r("img",{src:d.icon,class:"w-[54px] h-[54px] rounded-[4px]"},null,8,ve),r("span",ye,m(d.title),1)]))),128))])]),default:a(()=>[r("div",ke,[(s(!0),i(f,null,y(e.addon_list,(d,_)=>(s(),i("div",{key:_},[_<4?(s(),i("img",{key:0,src:d.icon,class:"w-[54px] h-[54px] mr-[8px] shrink-0 rounded-[4px]"},null,8,we)):k("",!0)]))),128)),e.addon_list.length>4?(s(),i("div",be,Ee)):k("",!0)])]),_:2},1024)):(s(),i(f,{key:1},[],64))]),_:1},8,["label"]),l(g,{prop:"create_time",label:p(n)("createTime"),"min-width":"120"},null,8,["label"]),l(g,{prop:"group_roles",label:p(n)("operation"),align:"right",fixed:"right","min-width":"120"},{default:a(({row:e})=>[l(h,{type:"primary",link:"",onClick:d=>P(e)},{default:a(()=>[x(m(p(n)("edit")),1)]),_:2},1032,["onClick"]),l(h,{type:"primary",link:"",onClick:d=>V(e.group_id)},{default:a(()=>[x(m(p(n)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[G,t.loading]]),r("div",Se,[l(D,{"current-page":t.page,"onUpdate:current-page":o[4]||(o[4]=e=>t.page=e),"page-size":t.limit,"onUpdate:page-size":o[5]||(o[5]=e=>t.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:o[6]||(o[6]=e=>u()),onCurrentChange:u},null,8,["current-page","page-size","total"])])])]),_:1})])}}});const Ze=le(Ne,[["__scopeId","data-v-73e25207"]]);export{Ze as default};
