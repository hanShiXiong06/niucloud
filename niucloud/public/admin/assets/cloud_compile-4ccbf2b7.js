import{d as N,r as x,b2 as T,R as U,$ as i,q as d,Z as z,h as R,c as M,a as t,e as l,w as o,i as f,d4 as F,ah as q,I as A,E as H,ae as O,af as Z,b7 as G,L as J,a3 as K,p as P,g as Q}from"./index-6a69b8ba.js";/* empty css                   *//* empty css                 *//* empty css                  *//* empty css                         *//* empty css                  */import W from"./index-df3cd66f.js";import X from"./index-b80b2f18.js";import{k as Y,s as tt,l as et}from"./upgrade-a2e6a47a.js";/* empty css                       *//* empty css                   */import{_ as st}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                  *//* empty css                    *//* empty css                     *//* empty css               *//* empty css                *//* empty css                 */import"./dark-e65213b8.js";import"./module-a379d13c.js";const e=r=>(P("data-v-e448365d"),r=r(),Q(),r),pt={class:"main-container w-full"},lt={class:"p-5 bg-[#fff] overflow-hidden"},at={class:"bg-[#fff] w-[100%] overflow-hidden"},nt={class:"flex items-center justify-between mb-[20px]"},it=e(()=>t("div",{class:"text-[#1D1F3A] text-[16px] font-bold ml-[4px]"},"云编译",-1)),ot={class:"flex ml-[20px]"},xt=e(()=>t("div",{class:"btn-time w-[181px] h-[36px] rounded-[4px] text-[#9699B6] text-[12px] ml-[10px]"},[t("span",null,"云编译执行时间大约"),t("span",{class:"text-[14px] text-[#DA203E] mx-[3px]"},"5"),t("span",null,"分钟")],-1)),dt=F('<div class="panel-title bg-[#F4F5F7] border-[#E6E6E6] border-solid border-b-[1px] h-[40px] flex items-center p-[10px]" data-v-e448365d><span class="text-[16px] font-500 text-[#1D1F3A]" data-v-e448365d>云编译</span><span class="text-[12px] text-[#9699B6] ml-[10px]" data-v-e448365d>云编译不需要本地安装node环境即可进行，针对使用者方便快捷</span></div><div class="mt-[20px] flex mb-[14px] items-center" data-v-e448365d><span class="flex ml-[20px] font-500 text-[16px] items-center text-[#1D1F3A]" data-v-e448365d> 温馨提示 </span><span class="text-[12px] text-[#9699B6] ml-[10px]" data-v-e448365d> 以下情况可以进行云编译</span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d>1、系统或插件，每次安装或升级完成后，需要云编译</div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d>2、开发者编写完前端代码之后，可以使用云编译进行源码编译</div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d>3、由于云编译不是针对某个插件进行编译，而是系统整体编译，因此如果同时需要安装多个插件时，往往需要安装到最后一个插件才整体进行云编译</div><div class="mt-[21px] flex mb-[21px] text-[16px] text-[#1D1F3A] font-500 items-center" data-v-e448365d><span class="flex ml-[20px] items-center" data-v-e448365d> 云编译流程 </span></div>',6),ct={class:"ml-[40px]"},rt=e(()=>t("div",{class:"text-[16px] text-[#1D1F3A]"},"编译admin代码",-1)),mt=e(()=>t("div",{class:"p-[10px] bg-[#F9F9FB] mt-[10px] text-[#4F516D] text-[14px] w-[1085px] border-[#F1F1F8] border-solid border-[1px] h-[40px] flex items-center rounded-[4px]"},[t("span",null,"云编译会将admin端的vue代码编译为对应的html文件，同时将生成的代码下载到系统 niucloud 下的"),t("span",{class:"text-[#F09000] mx-[3px] font-bold"},"public/admin"),t("span",null,"目录中。后台的访问路径将变为"),t("span",{class:"text-primary ml-[3px] font-500"},"https://域名/admin")],-1)),ut=e(()=>t("div",{class:"text-[16px] text-[#1D1F3A]"},"编译uniapp代码",-1)),vt=e(()=>t("div",{class:"p-[10px] bg-[#F9F9FB] mt-[10px] text-[#4F516D] text-[14px] w-[1085px] border-[#F1F1F8] border-solid border-[1px] h-[40px] flex items-center rounded-[4px]"},[t("span",null,"云编译会将uniapp端的vue代码编译为对应的html文件，同时将生成的代码下载到系统 niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px] font-bold"},"public/wap"),t("span",null,"目录中，这样手机端网页的访问路径将变为"),t("span",{class:"text-primary ml-[3px] font-500"}," https://域名/wap")],-1)),_t=e(()=>t("div",{class:"text-[16px] text-[#1D1F3A]"},"编译web代码",-1)),bt=e(()=>t("div",{class:"p-[10px] bg-[#F9F9FB] mt-[10px] text-[#4F516D] text-[14px] w-[1085px] border-[#F1F1F8] border-solid border-[1px] h-[40px] flex items-center rounded-[4px]"},[t("span",null,"云编译会将web端的vue代码编译为对应的html文件，同时将生成的代码下载到系统 niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px] font-bold"},"public/web"),t("span",null,"目录中，这样电脑端网页的访问路径将变为"),t("span",{class:"text-primary ml-[3px] font-500"}," https://域名/web")],-1)),ft={class:"mt-[10px]"},Ft={class:"panel-title bg-[#F4F5F7] border-[#E6E6E6] border-solid border-b-[1px] h-[40px] flex items-center p-[10px]"},ht=e(()=>t("span",{class:"text-[16px] font-500 text-[#1D1F3A]"},"第三方云编译",-1)),wt=e(()=>t("span",{class:"ml-[10px] text-[#9699B6] text-[12px]"},"自己搭建第三方云编译服务器，无需等待",-1)),gt={class:"mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A]"},yt=e(()=>t("span",{class:"flex ml-[20px] items-center"}," 温馨提示 ",-1)),Bt=e(()=>t("span",{class:"text-[12px] text-[#9699B6] ml-[10px]"},"运行环境要求：需预先配置 Nodejs 环境",-1)),Dt={class:"ml-[40px] text-[14px] text-[#4F516D] mb-[18px]"},Et=e(()=>t("span",null,"1、下载第三方云编译服务器搭建程序包",-1)),At=F('<div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d><span data-v-e448365d>2、请在指定目录（不能包含中文）下执行 npm install 命令安装依赖包</span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d><span data-v-e448365d>3、启动编译服务器：执行 node niucloud-compile-server.js 命令</span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d><span data-v-e448365d>4、填写服务器地址并成功连通测试后，点击开启即可享受自己搭建的云编译服务器，编译将无需排队等待。</span></div><div class="mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A]" data-v-e448365d><span class="flex ml-[20px] items-center" data-v-e448365d> 云编译服务器设置 </span></div><div class="mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A] ml-[20px]" data-v-e448365d><span class="flex ml-[20px] items-center" data-v-e448365d> 服务器地址 </span></div>',5),Ct={class:"flex ml-[40px] mb-[30px] items-center"},kt={class:"mt-[10px]"},Vt=F('<div class="panel-title bg-[#F4F5F7] border-[#E6E6E6] border-solid border-b-[1px] h-[40px] flex items-center p-[10px]" data-v-e448365d><span class="text-[16px] font-500 text-[#1D1F3A]" data-v-e448365d>本地编译</span></div><div class="mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A]" data-v-e448365d><span class="flex ml-[20px] items-center" data-v-e448365d> 温馨提示 </span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d><span data-v-e448365d>1、如果本地安装了Node环境，可以进行本地编译，要求</span><span class="text-[#DA203E] ml-[3px] font-500" data-v-e448365d>Node版本&gt;=18</span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d>2、默认本地编译流程与云编译相同，执行本地编译命令后，会将编译后的代码移动到系统niucloud下的public下的对应端口目录下</div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-e448365d>3、由于云编译配置的访问路径是固定的，针对客户有独立部署admin，wap，web等个性化端口名称配置需求，需要进行本地编译</div><div class="mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A]" data-v-e448365d><span class="flex ml-[20px] items-center" data-v-e448365d> 本地编译命令参考 </span></div>',6),jt=e(()=>t("div",{class:"ml-[40px] text-[#374151] text-[14px] italic"},[t("span",{class:"text-[16px] italic"},"#安装依赖："),t("span",{class:"italic"},"进入admin端与uniapp端以及web端目录都可执行")],-1)),St={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},$t=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm install",-1)),It={class:"mt-[21px]"},Lt=e(()=>t("div",{class:"ml-[40px] text-[14px] text-[#374151] italic"},[t("span",{class:"text-[16px] italic"},"#后台admin端口打包："),t("span",null,"进入admin目录下执行，执行后编译代码默认移动到系统的niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px]"},"public/admin"),t("span",null,"目录下")],-1)),Nt={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},Tt=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm run build",-1)),Ut={class:"mt-[21px]"},zt=e(()=>t("div",{class:"ml-[40px] text-[14px] text-[#374151] italic"},[t("span",{class:"text-[16px] italic"},"#使用uniapp打包H5："),t("span",null,"进入uniapp目录下执行，执行后编译代码默认移动到系统niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px]"},"public/wap"),t("span",null,"目录下")],-1)),Rt={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},Mt=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm run build:h5",-1)),qt={class:"mt-[21px]"},Ht=e(()=>t("div",{class:"ml-[40px] text-[14px] text-[#374151] italic"},[t("span",{class:"text-[16px] italic"},"#使用uniapp打包微信小程序："),t("span",null,"进入uniapp目录下执行，执行后编译代码默认移动到系统niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px]"},"uni-app/dist/build/mp-weixin"),t("span",null,"目录")],-1)),Ot={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},Zt=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm run build:mp-weixin",-1)),Gt={class:"mt-[21px]"},Jt=e(()=>t("div",{class:"ml-[40px] text-[14px] text-[#374151] italic"},[t("span",{class:"text-[16px] italic"},"#前台web(pc)端打包:："),t("span",null,"进入web目录下执行，执行后编译代码默认移动到系统niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px]"},"public/web"),t("span",null,"目录下")],-1)),Kt={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},Pt=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm run generate",-1)),Qt=N({__name:"cloud_compile",setup(r){const C=x(!1),h=x(!1),m=x(!1),v=x(null),w=()=>{q.confirm(d("cloudBuildTips"),d("warning"),{confirmButtonText:d("confirm"),cancelButtonText:d("cancel"),type:"warning"}).then(()=>{var p;(p=v.value)==null||p.open()})},{copy:k,isSupported:V,copied:g}=T(),c=p=>{if(!V.value){i({message:d("notSupportCopy"),type:"warning"});return}k(p)};U(g,()=>{g.value&&i({message:d("copySuccess"),type:"success"})});const y=p=>{window.open(p,"_blank")},u=x(0),n=x(""),j=async()=>{if(n.value!=""&&!A.url(n.value)){i({message:"请输入正确的服务器地址，必须以http://或https://开头",type:"warning"});return}m.value=!0,Y({url:n.value}).then(p=>{p.data==!1?i({message:"连通测试失败",type:"error"}):i({message:"连通测试成功",type:"success"}),m.value=!1}).catch(()=>{m.value=!1})},B=async()=>{if(n.value!=""&&!A.url(n.value)){i({message:"请输入正确的服务器地址，必须以http://或https://开头",type:"warning"});return}h.value=!0,tt({url:n.value,is_open:u.value}).then(p=>{p.data==1&&(i({message:"保存成功",type:"success"}),D())}).catch(()=>{i({message:"保存失败",type:"error"})}).finally(()=>{h.value=!1})},D=async()=>{et({}).then(p=>{n.value=p.data.baseUri,u.value=p.data.isOpen})};return D(),(p,s)=>{var E;const _=H,b=O,S=Z,$=G,I=J,L=K;return z((R(),M("div",pt,[t("div",lt,[t("div",at,[t("div",nt,[it,t("div",ot,[xt,l(_,{class:"w-[98px] !h-[36px]",type:"primary",onClick:w,loading:(E=v.value)==null?void 0:E.loading},{default:o(()=>[f("云编译")]),_:1},8,["loading"])])]),dt,t("div",ct,[l(S,null,{default:o(()=>[l(b,{hollow:!0},{default:o(()=>[rt,mt]),_:1}),l(b,{hollow:!0},{default:o(()=>[ut,vt]),_:1}),l(b,{hollow:!0},{default:o(()=>[_t,bt]),_:1})]),_:1})])]),t("div",ft,[t("div",Ft,[ht,l($,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=a=>u.value=a),"active-value":1,"inactive-value":0,class:"ml-[10px]",onChange:B},null,8,["modelValue"]),wt]),t("div",gt,[yt,Bt,t("span",{class:"text-[14px] text-primary cursor-pointer ml-[10px] border-b-[1px] border-solid border-primary",onClick:s[1]||(s[1]=a=>y("https://doc.niucloud.com/saas.html?keywords=/di-san-fang-yun-bian-yi-pei-zhi"))},"搭建教程")]),t("div",Dt,[Et,t("span",{class:"text-primary cursor-pointer",onClick:s[2]||(s[2]=a=>y("https://gitee.com/niucloud-team/niucloud-compile-server"))}," niucloud-compile-server")]),At,t("div",Ct,[l(I,{clearable:"",placeholder:"请输入服务器地址",class:"!w-[520px]",maxlength:"200",modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=a=>n.value=a)},null,8,["modelValue"]),l(_,{type:"primary",class:"ml-[10px]",onClick:B},{default:o(()=>[f("确定")]),_:1}),l(_,{type:"primary",plain:"",class:"ml-[10px]",onClick:j,loading:m.value},{default:o(()=>[f("连通测试")]),_:1},8,["loading"])])]),t("div",kt,[Vt,t("div",null,[jt,t("div",St,[$t,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[4]||(s[4]=a=>c("npm install"))})])]),t("div",It,[Lt,t("div",Nt,[Tt,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[5]||(s[5]=a=>c("npm run build"))})])]),t("div",Ut,[zt,t("div",Rt,[Mt,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[6]||(s[6]=a=>c("npm run build:h5"))})])]),t("div",qt,[Ht,t("div",Ot,[Zt,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[7]||(s[7]=a=>c("npm run build:mp-weixin"))})])]),t("div",Gt,[Jt,t("div",Kt,[Pt,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[8]||(s[8]=a=>c("npm run build"))})])])])]),l(W,{ref:"upgradeRef",onCloudbuild:w},null,512),l(X,{ref_key:"cloudBuildRef",ref:v},null,512)])),[[L,C.value]])}}});const fe=st(Qt,[["__scopeId","data-v-e448365d"]]);export{fe as default};
