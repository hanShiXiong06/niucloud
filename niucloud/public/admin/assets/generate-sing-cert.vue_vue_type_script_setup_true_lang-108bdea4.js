import{d as E,r as m,n as B,l as C,h as g,s as V,w as s,a as r,e as a,i as w,Z as v,u as N,t as D,_ as q,B as I,L as $,M as j,N as F,E as R,V as S,a3 as L}from"./index-28ce54e5.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{i as T}from"./app-5ad1d286.js";const z=r("div",{class:"form-tip"},"只支持字母，从证书文件中读取证书时需要别名",-1),A=r("div",{class:"form-tip"},"只支持字母或数字，密码至少 6 位，设置好后请牢记密码",-1),M={class:"flex items-center"},O=r("div",{class:"form-tip ml-2"},"年",-1),Z=r("div",{class:"form-tip"},"限 1 - 100 年之间",-1),G=r("div",{class:"form-tip"},"如公司名称或者其他名称",-1),H=r("div",{class:"form-tip"},"部门名称，如 IT 部、研发部等。",-1),J=r("div",{class:"form-tip"},"输入国家/地区代号（两个字母），中国为CN",-1),K=r("div",{class:"form-tip"},"所在省份名称，如Beijing",-1),P=r("div",{class:"form-tip"},"所在城市名称，如Beijing",-1),Q={class:"dialog-footer"},de=E({__name:"generate-sing-cert",setup(W,{expose:b}){const d=m(!1),u=m(!1),p=m(!1),f={key_alias:"",key_password:"",store_password:"",limit:30,cn:"",o:"",ou:"",c:"",st:"",l:""},o=B({...f}),_=m(),y=C(()=>({key_alias:[{required:!0,message:"请输入证书别名",trigger:"blur"}],key_password:[{required:!0,message:"请输入证书密码",trigger:"blur"}],store_password:[{required:!0,message:"请输入证书库密码",trigger:"blur"}],limit:[{required:!0,message:"请输入有效期",trigger:"blur"},{trigger:"blur",validator:(n,e,t)=>{isNaN(e)||!/^\d{0,10}$/.test(e)?t(new Error("有效期必须是数字")):e<0?t(new Error("有效期必须为 1 - 100 之间的数字")):e>100?t(new Error("有效期必须为 1 - 100 之间的数字")):t()}}],organization_name:[{required:!0,message:"请输入所有者",trigger:"blur"}]})),k=async n=>{n&&(await n.validate(),p.value=!0,T(o).then(e=>{p.value=!1,d.value=!1,window.open(I(e.data),"_blank")}))};return b({open:async(n=null)=>{Object.assign(o,f),d.value=!0}}),(n,e)=>{const t=$,i=j,h=F,c=R,U=S,x=L;return g(),V(U,{modelValue:d.value,"onUpdate:modelValue":e[13]||(e[13]=l=>d.value=l),title:"生成Android证书",width:"50%",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:s(()=>[r("span",Q,[a(c,{onClick:e[11]||(e[11]=l=>d.value=!1)},{default:s(()=>[w("取消")]),_:1}),a(c,{type:"primary",loading:p.value,onClick:e[12]||(e[12]=l=>k(_.value))},{default:s(()=>[w("生成")]),_:1},8,["loading"])])]),default:s(()=>[v((g(),V(h,{model:o,"label-width":"120px",ref_key:"formRef",ref:_,rules:N(y),class:"page-form"},{default:s(()=>[a(i,{label:"证书别名",prop:"key_alias"},{default:s(()=>[a(t,{modelValue:o.key_alias,"onUpdate:modelValue":e[0]||(e[0]=l=>o.key_alias=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"]),z]),_:1}),a(i,{label:"证书密码",prop:"key_password"},{default:s(()=>[a(t,{modelValue:o.key_password,"onUpdate:modelValue":e[1]||(e[1]=l=>o.key_password=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"]),A]),_:1}),a(i,{label:"证书库密码",prop:"store_password"},{default:s(()=>[a(t,{modelValue:o.store_password,"onUpdate:modelValue":e[2]||(e[2]=l=>o.store_password=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"])]),_:1}),a(i,{label:"有效期",prop:"limit"},{default:s(()=>[r("div",M,[a(t,{modelValue:o.limit,"onUpdate:modelValue":e[3]||(e[3]=l=>o.limit=l),clearable:"",placeholder:"",class:"w-[100px]"},null,8,["modelValue"]),O]),Z]),_:1}),r("div",{class:"text-primary cursor-pointer pl-[120px] my-[10px]",onClick:e[4]||(e[4]=l=>u.value=!u.value)},D(u.value?"点击收起":"点击展开填写更多信息 "),1),v(r("view",null,[a(i,{label:"域名"},{default:s(()=>[a(t,{modelValue:o.cn,"onUpdate:modelValue":e[5]||(e[5]=l=>o.cn=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"])]),_:1}),a(i,{label:"组织名称"},{default:s(()=>[a(t,{modelValue:o.o,"onUpdate:modelValue":e[6]||(e[6]=l=>o.o=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"]),G]),_:1}),a(i,{label:"部门"},{default:s(()=>[a(t,{modelValue:o.ou,"onUpdate:modelValue":e[7]||(e[7]=l=>o.ou=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"]),H]),_:1}),a(i,{label:"国家地区"},{default:s(()=>[a(t,{modelValue:o.c,"onUpdate:modelValue":e[8]||(e[8]=l=>o.c=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"]),J]),_:1}),a(i,{label:"省份"},{default:s(()=>[a(t,{modelValue:o.st,"onUpdate:modelValue":e[9]||(e[9]=l=>o.st=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"]),K]),_:1}),a(i,{label:"城市"},{default:s(()=>[a(t,{modelValue:o.l,"onUpdate:modelValue":e[10]||(e[10]=l=>o.l=l),clearable:"",placeholder:"",class:"input-width"},null,8,["modelValue"]),P]),_:1})],512),[[q,u.value]])]),_:1},8,["model","rules"])),[[x,p.value]])]),_:1},8,["modelValue"])}}});export{de as _};
