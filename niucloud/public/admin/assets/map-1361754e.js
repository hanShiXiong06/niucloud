import{d as T,r as f,n as h,l as C,q as t,h as v,c as F,e as i,w as m,a as n,t as p,u as o,Z as M,s as N,i as B,cA as D,cB as S,L as q,M as K,b7 as U,N as $,a9 as I,E as R,a3 as L}from"./index-0b74b7aa.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                 */import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const j={class:"main-container"},A={class:"flex justify-between items-center"},O={class:"text-page-title"},P={class:"ml-[10px]"},z={class:"ml-[150px] text-sm text-gray-400"},G={class:"fixed-footer-wrap"},H={class:"fixed-footer"},J=T({__name:"map",setup(Q){const r=f(!0),u=f(),a=h({key:"",amap_key:"",is_open:0,valid_time:0}),y=C(()=>({valid_time:[{required:!0,trigger:"blur",validator:(l,e,d)=>{e===""?d(new Error(t("validTimePlaceholder"))):isNaN(e)||!/^\d{0,10}$/.test(e)?d(new Error(t("validTimeFormatTips"))):e<5?d(new Error(t("validTimeNotZeroTips"))):d()}}]}));(async()=>{r.value=!0;const l=await(await D()).data;a.key=l.key,a.is_open=l.is_open,a.valid_time=l.valid_time,r.value=!1})();const w=async l=>{r.value||!l||await l.validate(async e=>{e&&(r.value=!0,S(a).then(()=>{r.value=!1}).catch(()=>{r.value=!1}))})},k=()=>{window.open("https://www.kancloud.cn/niucloud/niucloud-admin-develop/3214217")},_=l=>{window.open(l)};return(l,e)=>{const d=q,c=K,b=U,x=$,g=I,V=R,E=L;return v(),F("div",j,[i(g,{class:"box-card !border-none",shadow:"never"},{default:m(()=>[n("div",A,[n("span",O,p(o(t)("mapSetting")),1)]),M((v(),N(x,{class:"page-form mt-[20px]",model:a,rules:o(y),"label-width":"150px",ref_key:"formRef",ref:u},{default:m(()=>[i(c,{label:o(t)("mapKey"),prop:"key"},{default:m(()=>[i(d,{modelValue:a.key,"onUpdate:modelValue":e[0]||(e[0]=s=>a.key=s),modelModifiers:{trim:!0},class:"input-width",clearable:""},null,8,["modelValue"]),n("span",{class:"ml-2 cursor-pointer tutorial-btn",onClick:k},p(o(t)("clickTutorial")),1),n("span",{class:"ml-2 cursor-pointer secret-btn",onClick:e[1]||(e[1]=s=>_("https://lbs.qq.com/dev/console/key/manage"))},p(o(t)("clickSecretKey")),1)]),_:1},8,["label"]),i(c,{label:o(t)("aMapKey"),prop:"key"},{default:m(()=>[i(d,{modelValue:a.amap_key,"onUpdate:modelValue":e[2]||(e[2]=s=>a.amap_key=s),modelModifiers:{trim:!0},class:"input-width",clearable:""},null,8,["modelValue"]),n("span",{class:"ml-2 cursor-pointer secret-btn",onClick:e[3]||(e[3]=s=>_("https://lbs.amap.com/"))},p(o(t)("clickSecretKey")),1)]),_:1},8,["label"]),i(c,{label:o(t)("isOpen"),prop:"is_open"},{default:m(()=>[i(b,{modelValue:a.is_open,"onUpdate:modelValue":e[4]||(e[4]=s=>a.is_open=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1},8,["label"]),i(c,{label:o(t)("validTime"),prop:"valid_time"},{default:m(()=>[i(d,{modelValue:a.valid_time,"onUpdate:modelValue":e[5]||(e[5]=s=>a.valid_time=s),modelModifiers:{trim:!0},class:"!w-[120px]"},null,8,["modelValue"]),n("span",P,p(o(t)("minutes")),1)]),_:1},8,["label"]),n("div",z,p(o(t)("validTimeTips")),1)]),_:1},8,["model","rules"])),[[E,r.value]])]),_:1}),n("div",G,[n("div",H,[i(V,{type:"primary",loading:r.value,onClick:e[6]||(e[6]=s=>w(u.value))},{default:m(()=>[B(p(o(t)("save")),1)]),_:1},8,["loading"])])])])}}});const ne=Z(J,[["__scopeId","data-v-f0848fc2"]]);export{ne as default};
