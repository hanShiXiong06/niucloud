import{d as ae,H as d,dx as re,G as ce,dk as pe,r as _,j as ue,l as D,aZ as de,h as r,s as w,w as s,e as i,a as t,u as l,c as y,W as z,F as A,t as c,v as H,i as B,q as f,C as me,Z as O,bk as Z,dm as _e,b0 as fe,bt as he,bu as xe,bv as ve,a1 as ge,E as be,a8 as we,b1 as ye,V as ke,A as Se,p as Ce,g as Ee,y as Ie,f as Ve,dn as Re,a4 as Te}from"./index-6a69b8ba.js";/* empty css                  *//* empty css                   *//* empty css               *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                         *//* empty css                           */import{_ as Le}from"./index.vue_vue_type_script_setup_true_lang-44397317.js";import We from"./layout-setting-fdf3e8b0.js";import De from"./user-info-d7b94626.js";import{_ as Be}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                        *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import"./member_head-d9fd7b2c.js";import"./personal-0a62fbf0.js";import"./index.vue_vue_type_script_setup_true_lang-389352cd.js";import"./index-04d3919b.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-aa9102df.js";import"./attachment-0a0b2350.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-f5ea135f.js";/* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                    */import"./index.vue_vue_type_script_setup_true_lang-c02a754c.js";import"./sortable.esm-be94e56d.js";/* empty css                        */const $e=k=>(Ce("data-v-ebefcdae"),k=k(),Ee(),k),Me={class:"left-panel h-full flex items-center"},Fe={class:"flex items-center h-full pl-[10px]"},Ue={class:"right-panel h-full flex items-center justify-end"},je={class:"flex items-center flex-shrink-0 hidden-xs-only"},Ne={class:"mx-[8px] bg-[#f6f6f6] border-[1px] border-solid border-[#eee] rounded-[4px] px-[9px] py-[6px] flex items-center"},Pe={class:"mr-[6px] text-[12px] !text-[#333]"},qe={class:"text-[14px]"},ze={key:0,class:"text-[14px]"},Ae={key:1,class:"text-[14px]"},He={class:"flex items-center flex-shrink-0 hidden-xs-only"},Oe=$e(()=>t("i",{class:"iconfont icona-sousuoV6xx-36 cursor-pointer px-[8px] !text-[14px]"},null,-1)),Ze={class:"flex items-center"},Ge=["title"],Je=["title"],Ke={class:"navbar-item flex items-center h-full cursor-pointer"},Qe={class:"navbar-item flex items-center h-full cursor-pointer"},Xe={class:"dialog-footer"},Ye=ae({__name:"index",setup(k){const G=d.get("app_type");re();const h=ce(),$=pe(),J=Ie(),M=Ve(),F=_(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth),U=ue(),p=D(()=>U.siteInfo),K=D(()=>h.dark),S=_(!1),Q=U.routers,X=e=>{let n=[],a=e==null?void 0:e.parent_route;for(;a;)a.short_title&&n.unshift(a.short_title),a=a.parent_route;return n.join(" - ")},j=(e,n=null,a=1)=>{let m=[];return e.forEach(V=>{const{path:R,name:T,meta:u={},short_title:L,children:x}=V,v=(u.show===void 0?1:u.show)&&a;if(u.type===1&&v===1){const g=u.title||L||"",b=X(u),W=b?`${b} - ${g}`:g,o={path:R,name:T,title:g,parent_title:b,full_title:W};m.push(o)}x&&x.length>0&&(m=m.concat(j(x,V,v)))}),m},Y=j(Q),N=_(""),ee=e=>{e&&(M.push({name:e}),S.value=!1)},C=_(!1),E=_(""),I=_("");d.get("comparisonTokenStorage")&&(E.value=d.get("comparisonTokenStorage")),d.get("comparisonSiteIdStorage")&&(I.value=d.get("comparisonSiteIdStorage")),document.addEventListener("visibilitychange",e=>{document.visibilityState==="visible"&&(I.value!=d.get("siteId")||E.value!=d.get("token"))&&(C.value=!0)});const te=()=>{C.value=!1,location.href=`${location.origin}/site/`};de(()=>{window.onresize=()=>(()=>{F.value=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})()});const oe=()=>{h.$patch(e=>{F.value<768?(e.menuDrawer=!0,e.menuIsCollapse=!1):h.toggleMenuCollapse(!h.menuIsCollapse)})},ne=()=>{$.routeRefreshTag&&$.refreshRouterView()},se=D(()=>{const e=J.matched.filter(n=>n.meta.title);return e[0]&&e[0].path=="/"&&e.splice(0,1),e}),le=()=>{const e=M.resolve({path:"/preview/wap",query:{page:"/"}});window.open(e.href)};return(e,n)=>{const a=Le,m=Re,V=_e,R=fe,T=he,u=xe,L=ve,x=Te,P=ge,v=be,q=we,g=ye,b=ke,W=Se;return r(),w(W,{class:H(["h-full px-[10px]",{"layout-header border-b border-color":!l(K)}])},{default:s(()=>[i(g,{class:"w-100 h-full w-full"},{default:s(()=>[i(R,{span:10},{default:s(()=>[t("div",Me,[t("div",{class:"hidden-sm-and-up navbar-item flex items-center h-full cursor-pointer",onClick:oe},[l(h).menuIsCollapse?(r(),w(a,{key:0,name:"element Expand"})):(r(),w(a,{key:1,name:"element Fold"}))]),t("div",{class:"navbar-item flex items-center h-full cursor-pointer",onClick:ne},[i(a,{name:"element Refresh"})]),t("div",Fe,[i(V,{separator:"/"},{default:s(()=>[(r(!0),y(A,null,z(l(se),(o,ie)=>(r(),w(m,{to:o.path,class:"inter",key:ie},{default:s(()=>[B(c(o.meta.title),1)]),_:2},1032,["to"]))),128))]),_:1})])])]),_:1}),i(R,{span:14},{default:s(()=>[t("div",Ue,[t("div",je,[i(L,{trigger:"hover","hide-on-click":!1,"popper-class":"site-info-wrap",class:"mr-[8px]"},{dropdown:s(()=>[i(u,null,{default:s(()=>[i(T,null,{default:s(()=>[t("div",qe,"站点编号："+c(l(p).site_id),1)]),_:1}),i(T,null,{default:s(()=>[l(p).expire_time==0?(r(),y("div",ze,"到期时间：永久")):(r(),y("div",Ae,"到期时间："+c(l(p).expire_time),1))]),_:1})]),_:1})]),default:s(()=>[t("div",Ne,[t("span",Pe,c(l(p).site_name),1),t("span",{class:H(["!text-[10px] text-[#f56c6c]",{"!text-[#67c23a]":l(p).status==1,"!text-[#f56c6c]":l(p).status==3}])},c(l(p).status_name),3)])]),_:1})]),t("div",He,[i(q,{placement:"bottom",width:330,trigger:"click",visible:S.value,"onUpdate:visible":n[2]||(n[2]=o=>S.value=o)},{reference:s(()=>[Oe]),default:s(()=>[t("div",Ze,[i(P,{modelValue:N.value,"onUpdate:modelValue":n[0]||(n[0]=o=>N.value=o),filterable:"",class:"!w-[250px] mr-[20px] menu-select",teleported:!1,clearable:"",onChange:ee},{default:s(()=>[(r(!0),y(A,null,z(l(Y),o=>(r(),w(x,{key:o.name,label:o.full_title,value:o.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),i(v,{type:"primary",link:"",onClick:n[1]||(n[1]=o=>S.value=!1)},{default:s(()=>[B(c(l(f)("取消")),1)]),_:1})])]),_:1},8,["visible"])]),t("i",{class:"iconfont iconicon_huojian1 cursor-pointer px-[8px]",title:l(f)("visitWap"),onClick:le},null,8,Ge),l(G)=="site"?(r(),y("i",{key:0,class:"iconfont iconlingdang-xianxing cursor-pointer px-[8px]",title:l(f)("newInfo")},null,8,Je)):me("",!0),t("div",Ke,[i(We)]),t("div",Qe,[i(De)])])]),_:1})]),_:1}),O(t("input",{type:"hidden","onUpdate:modelValue":n[3]||(n[3]=o=>E.value=o)},null,512),[[Z,E.value]]),O(t("input",{type:"hidden","onUpdate:modelValue":n[4]||(n[4]=o=>I.value=o)},null,512),[[Z,I.value]]),i(b,{modelValue:C.value,"onUpdate:modelValue":n[5]||(n[5]=o=>C.value=o),title:l(f)("layout.detectionLoginTip"),width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:s(()=>[t("span",Xe,[i(v,{onClick:te},{default:s(()=>[B(c(l(f)("layout.detectionLoginOperation")),1)]),_:1})])]),default:s(()=>[t("span",null,c(l(f)("layout.detectionLoginContent")),1)]),_:1},8,["modelValue","title"])]),_:1},8,["class"])}}});const qt=Be(Ye,[["__scopeId","data-v-ebefcdae"]]);export{qt as default};
