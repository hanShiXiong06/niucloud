import{d as j,y as z,f as A,r as x,d2 as H,Z as M,h as c,c as U,e,w as t,u as s,b3 as Z,a as n,t as l,q as a,i as o,F as J,s as f,C as $,ah as K,b4 as O,a9 as Q,b0 as W,b1 as X,aj as Y,as as ee,E as te,ak as ae,aH as se,aI as le,a3 as ie}from"./index-6a69b8ba.js";/* empty css                   *//* empty css                    *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                  *//* empty css               *//* empty css                        *//* empty css               *//* empty css                *//* empty css                       */import{d as ne,k as oe,l as re}from"./user-4a966a3b.js";import{_ as pe}from"./create-site-limit.vue_vue_type_script_setup_true_lang-b597e1c2.js";/* empty css                  *//* empty css                   *//* empty css                *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                  *//* empty css                  */const _e={class:"main-container"},ue={class:"panel-title !text-sm"},ce={class:"text-[14px] w-[130px] text-right mr-[20px]"},me={class:"text-[14px] text-[#666666]"},de={class:"text-[14px] w-[130px] text-right mr-[20px]"},xe={class:"text-[14px] text-[#666666]"},fe={class:"text-[14px] w-[130px] text-right mr-[20px]"},be={class:"text-[14px] text-[#666666]"},ge={class:"text-[14px] w-[130px] text-right mr-[20px]"},he={class:"text-[14px] text-[#666666]"},ve={class:"text-[14px] w-[130px] text-right mr-[20px]"},ye={class:"text-[14px] text-[#666666]"},ke={class:"text-[14px] w-[130px] text-right mr-[20px]"},Ce={class:"text-[14px] text-[#666666]"},Se={class:"text-[14px] w-[130px] text-right mr-[20px]"},Te={class:"text-[14px] text-[#666666]"},Ee={class:"flex justify-end mb-[16px]"},We=j({__name:"user_info",setup(Le){const k=z(),E=A(),D=k.meta.title,F=()=>{E.push("/admin/site/user")},b=parseInt(k.query.uid||0),L=x(!0),p=x({}),w=x(k.query.tab||"siteInfo"),d=x({}),I=x([]),C=x(null);ne(b).then(({data:_})=>{p.value=_,L.value=!1}).catch(),H({uid:b}).then(({data:_})=>{const u={};_.forEach(g=>{u[g.group_id]=g}),d.value=u});const S=()=>{oe(b).then(({data:_})=>{I.value=_})};S();const R=_=>{E.push({path:"/admin/site/info",query:{id:_.site_id}})},q=_=>{K.confirm(a("createSiteTimeLimitDeleteTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{re(_).then(()=>{S()}).catch(()=>{})})};return(_,u)=>{const g=O,T=Q,m=W,h=X,r=Y,v=ee,y=te,B=ae,N=se,G=le,P=ie;return M((c(),U("div",_e,[e(T,{class:"card !border-none",shadow:"never"},{default:t(()=>[e(g,{content:s(D),icon:s(Z),onBack:u[0]||(u[0]=i=>F())},null,8,["content","icon"])]),_:1}),e(T,{class:"box-card mt-[15px] !border-none",shadow:"never"},{default:t(()=>[n("h3",ue,l(s(a)("userInfo")),1),e(h,{gutter:20,class:"mt-[20px] mb-[20px]"},{default:t(()=>[e(m,{span:6},{default:t(()=>[n("span",ce,l(s(a)("uid")),1),n("span",me,l(p.value.uid),1)]),_:1}),e(m,{span:6,offset:6},{default:t(()=>[n("span",de,l(s(a)("username")),1),n("span",xe,l(p.value.username),1)]),_:1})]),_:1}),e(h,{gutter:20,class:"mb-[20px]"},{default:t(()=>[e(m,{span:6},{default:t(()=>[n("span",fe,l(s(a)("realname")),1),n("span",be,l(p.value.real_name||"--"),1)]),_:1}),e(m,{span:6,offset:6},{default:t(()=>[n("span",ge,l(s(a)("手机号")),1),n("span",he,l(p.value.mobile||"--"),1)]),_:1})]),_:1}),e(h,{gutter:20,class:"mb-[20px]"},{default:t(()=>[e(m,{span:6},{default:t(()=>[n("span",ve,l(s(a)("addTime")),1),n("span",ye,l(p.value.create_time),1)]),_:1}),e(m,{span:6,offset:6},{default:t(()=>[n("span",ke,l(s(a)("lastLoginTime")),1),n("span",Ce,l(p.value.last_time||""),1)]),_:1})]),_:1}),e(h,{gutter:20,class:"mb-[20px]"},{default:t(()=>[e(m,{span:6},{default:t(()=>[n("span",Se,l(s(a)("lastLoginIP")),1),n("span",Te,l(p.value.last_ip||""),1)]),_:1})]),_:1})]),_:1}),e(T,{class:"box-card mt-[15px] !border-none",shadow:"never"},{default:t(()=>[e(G,{modelValue:w.value,"onUpdate:modelValue":u[2]||(u[2]=i=>w.value=i)},{default:t(()=>[e(N,{label:s(a)("siteInfo"),name:"siteInfo"},{default:t(()=>[e(B,{data:p.value.roles,size:"large"},{default:t(()=>[e(r,{prop:"site_id",label:s(a)("siteId"),width:"100px"},null,8,["label"]),e(r,{prop:"site_name",label:s(a)("siteName")},null,8,["label"]),e(r,{prop:"is_admin",label:s(a)("isAdmin"),"min-width":"180",align:"center"},{default:t(({row:i})=>[o(l(i.is_admin?s(a)("yes"):s(a)("no")),1)]),_:1},8,["label"]),e(r,{label:s(a)("status"),"min-width":"80",align:"center"},{default:t(({row:i})=>[i.site_status_name?(c(),U(J,{key:0},[i.site_status==1?(c(),f(v,{key:0,class:"ml-2",type:"success"},{default:t(()=>[o(l(i.site_status_name),1)]),_:2},1024)):i.site_status==3?(c(),f(v,{key:1,class:"ml-2",type:"error"},{default:t(()=>[o(l(i.site_status_name),1)]),_:2},1024)):(c(),f(v,{key:2,class:"ml-2",type:"error"},{default:t(()=>[o(l(i.site_status_name),1)]),_:2},1024))],64)):(c(),f(v,{key:1,class:"ml-2",type:"error"},{default:t(()=>[o(l(s(a)("siteEmpty")),1)]),_:1}))]),_:1},8,["label"]),e(r,{prop:"expire_time",label:s(a)("expireTime")},null,8,["label"]),e(r,{label:s(a)("operation"),align:"right",fixed:"right"},{default:t(({row:i})=>[i.site_status_name?(c(),f(y,{key:0,type:"primary",link:"",onClick:V=>R(i)},{default:t(()=>[o(l(s(a)("info")),1)]),_:2},1032,["onClick"])):$("",!0)]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["label"]),p.value.is_super_admin?$("",!0):(c(),f(N,{key:0,label:s(a)("userCreateSiteLimit"),name:"userCreateSiteLimit"},{default:t(()=>[n("div",Ee,[e(y,{type:"primary",onClick:u[1]||(u[1]=i=>C.value.setFormData())},{default:t(()=>[o(l(s(a)("addSserCreateSiteLimit")),1)]),_:1})]),e(B,{data:I.value,size:"large"},{default:t(()=>[e(r,{label:s(a)("siteGroup")},{default:t(({row:i})=>[o(l(d.value[i.group_id]?d.value[i.group_id].group_name:""),1)]),_:1},8,["label"]),e(r,{label:s(a)("createdSiteNum")},{default:t(({row:i})=>[o(l(d.value[i.group_id]?d.value[i.group_id].site_num:0),1)]),_:1},8,["label"]),e(r,{prop:"num",label:s(a)("createSiteNum"),align:"center"},null,8,["label"]),e(r,{prop:"month",label:s(a)("createSiteTimeLimit"),align:"center"},{default:t(({row:i})=>[o(l(i.month)+"个"+l(s(a)("month")),1)]),_:1},8,["label"]),e(r,{label:s(a)("operation"),align:"right",fixed:"right"},{default:t(({row:i})=>[e(y,{type:"primary",link:"",onClick:V=>C.value.setFormData(i.id)},{default:t(()=>[o(l(s(a)("edit")),1)]),_:2},1032,["onClick"]),e(y,{type:"primary",link:"",onClick:V=>q(i.id)},{default:t(()=>[o(l(s(a)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["label"]))]),_:1},8,["modelValue"])]),_:1}),e(pe,{ref_key:"createSiteLimitRef",ref:C,"site-group":d.value,uid:s(b),onComplete:S},null,8,["site-group","uid"])])),[[P,L.value]])}}});export{We as default};
