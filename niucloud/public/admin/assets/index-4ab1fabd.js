import{_ as S}from"./index.vue_vue_type_style_index_0_lang-d61b6ebc.js";import{_ as V}from"./index.vue_vue_type_script_setup_true_lang-cb8d7a65.js";import{d as j,l as g,n as B,R as N,h as l,c as r,x as p,u as c,a as o,e as s,s as D,w,t as b,q as k,F as z,W as T,C as $,ay as E}from"./index-0b74b7aa.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   *//* empty css                  */import"./attachment-c8c37cd4.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-832af570.js";/* empty css                        *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                    *//* empty css                        *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-00957a82.js";/* empty css                   */const I={class:"flex flex-wrap"},P={key:0,class:"w-full h-full relative"},R={class:"w-full h-full flex items-center justify-center"},q={class:"absolute z-[1] flex items-center justify-center w-full h-full inset-0 bg-black bg-opacity-60 operation"},L={class:"w-full h-full flex items-center justify-center flex-col"},W={class:"leading-none text-xs mt-[10px] text-secondary"},A={class:"w-full h-full relative"},G={class:"w-full h-full flex items-center justify-center"},H={class:"absolute z-[1] flex items-center justify-center w-full h-full inset-0 bg-black bg-opacity-60 operation"},J={class:"w-full h-full flex items-center justify-center flex-col"},K={class:"leading-none text-xs mt-[10px] text-secondary"},M=j({__name:"index",props:{modelValue:{type:String,default:""},width:{type:String,default:"100px"},height:{type:String,default:"100px"},iconText:{type:String},limit:{type:Number,default:1}},emits:["update:modelValue","change"],setup(i,{emit:f}){const n=i,d=g({get(){return n.modelValue},set(t){f("update:modelValue",t)}}),e=B({data:[]}),m=()=>{d.value=E(e.data).toString()};N(()=>d.value,()=>{e.data=[...d.value.split(",").filter(t=>t)],m()},{immediate:!0});const u=g(()=>({width:n.width,height:n.height})),h=t=>{n.limit==1?(e.data.splice(0,1),t&&e.data.push(t.url)):t.forEach(x=>{e.data.length<n.limit&&e.data.push(x.url)}),m(),f("change",d.value)},_=(t=0)=>{e.data.splice(t,1),m()};return(t,x)=>{const a=V,v=S;return l(),r("div",I,[i.limit==1?(l(),r("div",{key:0,class:"rounded cursor-pointer overflow-hidden relative border border-dashed border-color icon-wrap mr-[10px]",style:p(c(u))},[e.data.length?(l(),r("div",P,[o("div",R,[s(a,{name:e.data[0],size:"40px"},null,8,["name"])]),o("div",q,[s(a,{name:"element Delete",color:"#fff",size:"18px",onClick:_})])])):(l(),D(v,{key:1,limit:i.limit,type:"icon",onConfirm:h},{default:w(()=>[o("div",L,[s(a,{name:"element Plus",size:"20px",color:"var(--el-text-color-secondary)"}),o("div",W,b(i.iconText||c(k)("upload.selecticon")),1)])]),_:1},8,["limit"]))],4)):(l(),r(z,{key:1},[(l(!0),r(z,null,T(e.data,(C,y)=>(l(),r("div",{class:"rounded cursor-pointer overflow-hidden relative border border-dashed border-color icon-wrap mr-[10px]",style:p(c(u)),key:y},[o("div",A,[o("div",G,[s(a,{name:C,size:"40px"},null,8,["name"])]),o("div",H,[s(a,{name:"element Delete",color:"#fff",size:"18px",onClick:O=>_(y)},null,8,["onClick"])])])],4))),128)),e.data.length<i.limit?(l(),r("div",{key:0,class:"rounded cursor-pointer overflow-hidden relative border border-dashed border-color",style:p(c(u))},[s(v,{limit:i.limit,onConfirm:h},{default:w(()=>[o("div",J,[s(a,{name:"element Plus",size:"20px",color:"var(--el-text-color-secondary)"}),o("div",K,b(i.iconText||c(k)("upload.selecticon")),1)])]),_:1},8,["limit"])],4)):$("",!0)],64))])}}});const Ce=F(M,[["__scopeId","data-v-2c7af0ec"]]);export{Ce as default};
