import{d as Q,y as W,f as G,r as b,n as H,l as Z,q as e,b2 as J,R as X,$ as U,h as p,c as u,a as s,e as l,w as t,u as a,b3 as Y,Z as C,s as h,t as i,C as w,i as v,_ as ee,F as oe,b4 as ae,a9 as le,L as te,M as ie,aD as de,aE as se,E as re,N as ne,a3 as pe}from"./index-6a69b8ba.js";/* empty css                   *//* empty css                *//* empty css                  *//* empty css                       *//* empty css                 */import{_ as ue}from"./index.vue_vue_type_style_index_0_lang-88fec90c.js";import me from"./index-04d3919b.js";import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                *//* empty css                       */import{g as _e,h as ce}from"./weapp-b7f20f23.js";import{_ as fe}from"./modify-domain.vue_vue_type_script_setup_true_lang-ed236d6c.js";import{_ as ve}from"./modify-privacy-agreement.vue_vue_type_script_setup_true_lang-d2031000.js";/* empty css                  *//* empty css                    *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-aa9102df.js";/* empty css                  *//* empty css                   */import"./attachment-0a0b2350.js";import"./index.vue_vue_type_script_setup_true_lang-f5ea135f.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-c02a754c.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-44397317.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";import"./setting-list.vue_vue_type_script_setup_true_lang-eede7672.js";/* empty css                          */const ye={class:"main-container"},he={class:"panel-title !text-sm"},be={class:"form-tip"},we={class:"panel-title !text-sm"},ge={class:"form-tip"},ke={class:"form-tip"},xe={class:"panel-title !text-sm"},Ve={class:"input-width"},qe={class:"form-tip"},Pe={class:"form-tip"},Ue={class:"panel-title !text-sm"},Ce={class:"form-tip"},Ee={class:"form-tip"},Me={class:"form-tip"},Te={class:"form-tip"},ze={class:"form-tip"},Ae={class:"flex items-start justify-between"},Re={class:"panel-title !text-sm"},Se={key:0},De={key:1},$e={key:0},Ne={key:1},Fe={key:0},Be={key:1},Ke={key:0},Ie={key:1},Oe={key:0},je={key:1},Le={key:0},Qe={key:1},We={key:0},Ge={key:1},He={class:"flex items-start justify-between"},Ze={class:"panel-title !text-sm"},Je={class:"flex items-center"},Xe={class:"form-tip !mt-0"},Ye={class:"fixed-footer-wrap"},eo={class:"fixed-footer"},jo=Q({__name:"config",setup(oo){const E=W(),M=G(),T=E.meta.title,z=()=>{M.push("/channel/weapp")},c=b(!0),o=H({weapp_name:"",weapp_original:"",app_id:"",app_secret:"",qr_code:"",token:"",encoding_aes_key:"",encryption_type:"not_encrypt",serve_url:"",request_url:"",socket_url:"",upload_url:"",download_url:"",upload_private_key:"",is_authorization:0,domain:{requestdomain:"",wsrequestdomain:"",uploaddomain:"",downloaddomain:"",tcpdomain:"",udpdomain:""}}),V=b(),A=Z(()=>({weapp_name:[{required:!0,message:e("weappNamePlaceholder"),trigger:"blur"}],weapp_original:[{required:!0,message:e("weappOriginalPlaceholder"),trigger:"blur"}],app_id:[{required:!0,message:e("appidPlaceholder"),trigger:"blur"}],app_secret:[{required:!o.is_authorization,message:e("appSecretPlaceholder"),trigger:"blur"}],token:[{required:!o.is_authorization,message:e("tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!o.is_authorization,message:e("encodingAesKeyPlaceholder"),trigger:"blur"}]}));_e().then(_=>{Object.assign(o,_.data),c.value=!1});const{copy:R,isSupported:S,copied:q}=J(),y=_=>{if(!S.value){U({message:e("notSupportCopy"),type:"warning"});return}R(_)};X(q,()=>{q.value&&U({message:e("copySuccess"),type:"success"})});const D=async _=>{c.value||!_||await _.validate(async d=>{d&&(c.value=!0,ce(o).then(()=>{c.value=!1}).catch(()=>{c.value=!1}))})},g=b(null),$=()=>{g.value.setFormData(o.domain),g.value.showDialog=!0},N=_=>{o.domain=_},P=b(null),F=()=>{P.value.setFormData()};return(_,d)=>{const B=ae,f=le,m=te,n=ie,K=me,I=ue,k=de,O=se,x=re,j=ne,L=pe;return p(),u(oe,null,[s("div",ye,[l(f,{class:"card !border-none",shadow:"never"},{default:t(()=>[l(B,{content:a(T),icon:a(Y),onBack:d[0]||(d[0]=r=>z())},null,8,["content","icon"])]),_:1}),C((p(),h(j,{class:"page-form mt-[15px]",model:o,"label-width":"170px",ref_key:"formRef",ref:V,rules:a(A)},{default:t(()=>[l(f,{class:"box-card !border-none",shadow:"never"},{default:t(()=>[s("h3",he,i(a(e)("weappInfo")),1),l(n,{label:a(e)("weappName"),prop:"weapp_name"},{default:t(()=>[l(m,{modelValue:o.weapp_name,"onUpdate:modelValue":d[1]||(d[1]=r=>o.weapp_name=r),modelModifiers:{trim:!0},placeholder:a(e)("weappNamePlaceholder"),class:"input-width",clearable:"",readonly:o.is_authorization},null,8,["modelValue","placeholder","readonly"])]),_:1},8,["label"]),l(n,{label:a(e)("weappOriginal"),prop:"weapp_original"},{default:t(()=>[l(m,{modelValue:o.weapp_original,"onUpdate:modelValue":d[2]||(d[2]=r=>o.weapp_original=r),modelModifiers:{trim:!0},placeholder:a(e)("weappOriginalPlaceholder"),class:"input-width",clearable:"",readonly:o.is_authorization},null,8,["modelValue","placeholder","readonly"])]),_:1},8,["label"]),l(n,{label:a(e)("weappQrcode"),prop:"qr_code"},{default:t(()=>[l(K,{modelValue:o.qr_code,"onUpdate:modelValue":d[3]||(d[3]=r=>o.qr_code=r)},null,8,["modelValue"]),s("div",be,i(a(e)("weappQrcodeTips")),1)]),_:1},8,["label"])]),_:1}),l(f,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:t(()=>[s("h3",we,i(a(e)("weappDevelopInfo")),1),l(n,{label:a(e)("weappAppid"),prop:"app_id"},{default:t(()=>[l(m,{modelValue:o.app_id,"onUpdate:modelValue":d[4]||(d[4]=r=>o.app_id=r),modelModifiers:{trim:!0},placeholder:a(e)("appidPlaceholder"),class:"input-width",clearable:"",readonly:o.is_authorization},null,8,["modelValue","placeholder","readonly"]),s("div",ge,i(a(e)("weappAppidTips")),1)]),_:1},8,["label"]),o.is_authorization?w("",!0):(p(),h(n,{key:0,label:a(e)("weappAppsecret"),prop:"app_secret"},{default:t(()=>[l(m,{modelValue:o.app_secret,"onUpdate:modelValue":d[5]||(d[5]=r=>o.app_secret=r),modelModifiers:{trim:!0},placeholder:a(e)("appSecretPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),s("div",ke,i(a(e)("weappAppsecretTips")),1)]),_:1},8,["label"]))]),_:1}),o.is_authorization?w("",!0):(p(),h(f,{key:0,class:"box-card !border-none mt-[15px]",shadow:"never"},{default:t(()=>[s("h3",xe,i(a(e)("weappUpload")),1),l(n,{label:a(e)("uploadKey"),prop:"upload_private_key"},{default:t(()=>[s("div",Ve,[l(I,{modelValue:o.upload_private_key,"onUpdate:modelValue":d[6]||(d[6]=r=>o.upload_private_key=r),api:"sys/document/wechat"},null,8,["modelValue"])]),s("div",qe,i(a(e)("uploadKeyTips")),1),s("div",Pe,i(a(e)("uploadIpTips"))+i(o.upload_ip),1)]),_:1},8,["label"])]),_:1})),C(l(f,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:t(()=>[s("h3",Ue,i(a(e)("theServerSetting")),1),l(n,{label:"URL"},{default:t(()=>[l(m,{"model-value":o.serve_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:t(()=>[s("div",{class:"cursor-pointer",onClick:d[7]||(d[7]=r=>y(o.serve_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1}),l(n,{label:"Token",prop:"token"},{default:t(()=>[l(m,{modelValue:o.token,"onUpdate:modelValue":d[8]||(d[8]=r=>o.token=r),modelModifiers:{trim:!0},placeholder:a(e)("tokenPlaceholder"),class:"input-width",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),s("div",Ce,i(a(e)("tokenTips")),1)]),_:1}),l(n,{label:"EncodingAESKey",prop:"encoding_aes_key"},{default:t(()=>[l(m,{modelValue:o.encoding_aes_key,"onUpdate:modelValue":d[9]||(d[9]=r=>o.encoding_aes_key=r),modelModifiers:{trim:!0},placeholder:a(e)("encodingAesKeyPlaceholder"),class:"input-width",maxlength:"43","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),s("div",Ee,i(a(e)("encodingAESKeyTips")),1)]),_:1}),l(n,{label:a(e)("encryptionType"),prop:"encryption_type"},{default:t(()=>[l(O,{modelValue:o.encryption_type,"onUpdate:modelValue":d[10]||(d[10]=r=>o.encryption_type=r)},{default:t(()=>[l(k,{label:"not_encrypt"},{default:t(()=>[v(i(a(e)("cleartextMode")),1)]),_:1}),l(k,{label:"compatible"},{default:t(()=>[v(i(a(e)("compatibleMode")),1)]),_:1}),l(k,{label:"safe"},{default:t(()=>[v(i(a(e)("safeMode")),1)]),_:1})]),_:1},8,["modelValue"]),s("div",Me,i(a(e)("cleartextModeTips")),1),s("div",Te,i(a(e)("compatibleModeTips")),1),s("div",ze,i(a(e)("safeModeTips")),1)]),_:1},8,["label"])]),_:1},512),[[ee,!o.is_authorization]]),l(f,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:t(()=>[s("div",Ae,[s("h3",Re,i(a(e)("functionSetting")),1),o.is_authorization?(p(),h(x,{key:0,type:"primary",link:"",onClick:$},{default:t(()=>[v(i(a(e)("update")),1)]),_:1})):w("",!0)]),o.is_authorization?(p(),u("div",De,[l(n,{label:a(e)("requestUrl")},{default:t(()=>[o.domain.requestdomain?(p(),u("div",$e,i(o.domain.requestdomain),1)):(p(),u("div",Ne,"-"))]),_:1},8,["label"]),l(n,{label:a(e)("socketUrl")},{default:t(()=>[o.domain.wsrequestdomain?(p(),u("div",Fe,i(o.domain.wsrequestdomain),1)):(p(),u("div",Be,"-"))]),_:1},8,["label"]),l(n,{label:a(e)("uploadUrl")},{default:t(()=>[o.domain.uploaddomain?(p(),u("div",Ke,i(o.domain.uploaddomain),1)):(p(),u("div",Ie,"-"))]),_:1},8,["label"]),l(n,{label:a(e)("downloadUrl")},{default:t(()=>[o.domain.downloaddomain?(p(),u("div",Oe,i(o.domain.downloaddomain),1)):(p(),u("div",je,"-"))]),_:1},8,["label"]),l(n,{label:a(e)("udpUrl")},{default:t(()=>[o.domain.udpdomain?(p(),u("div",Le,i(o.domain.udpdomain),1)):(p(),u("div",Qe,"-"))]),_:1},8,["label"]),l(n,{label:a(e)("tcpUrl")},{default:t(()=>[o.domain.tcpdomain?(p(),u("div",We,i(o.domain.tcpdomain),1)):(p(),u("div",Ge,"-"))]),_:1},8,["label"])])):(p(),u("div",Se,[l(n,{label:a(e)("requestUrl")},{default:t(()=>[l(m,{"model-value":o.request_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:t(()=>[s("div",{class:"cursor-pointer",onClick:d[11]||(d[11]=r=>y(o.request_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),l(n,{label:a(e)("socketUrl")},{default:t(()=>[l(m,{"model-value":o.socket_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:t(()=>[s("div",{class:"cursor-pointer",onClick:d[12]||(d[12]=r=>y(o.socket_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),l(n,{label:a(e)("uploadUrl")},{default:t(()=>[l(m,{"model-value":o.upload_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:t(()=>[s("div",{class:"cursor-pointer",onClick:d[13]||(d[13]=r=>y(o.upload_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),l(n,{label:a(e)("downloadUrl")},{default:t(()=>[l(m,{"model-value":o.download_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:t(()=>[s("div",{class:"cursor-pointer",onClick:d[14]||(d[14]=r=>y(o.download_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"])]))]),_:1}),o.is_authorization?(p(),h(f,{key:1,class:"box-card !border-none mt-[15px]",shadow:"never"},{default:t(()=>[s("div",He,[s("h3",Ze,i(a(e)("serviceContentStatement")),1)]),l(n,{label:a(e)("privacyAgreement")},{default:t(()=>[s("div",Je,[s("div",Xe,i(a(e)("privacyAgreementTips")),1),l(x,{type:"primary",link:"",onClick:F},{default:t(()=>[v(i(a(e)("setting")),1)]),_:1})])]),_:1},8,["label"])]),_:1})):w("",!0)]),_:1},8,["model","rules"])),[[L,c.value]]),s("div",Ye,[s("div",eo,[l(x,{type:"primary",loading:c.value,onClick:d[15]||(d[15]=r=>D(V.value))},{default:t(()=>[v(i(a(e)("save")),1)]),_:1},8,["loading"])])])]),l(fe,{ref_key:"modifyDomainRef",ref:g,onComplete:N},null,512),l(ve,{config:o,ref_key:"modifyPrivacyAgreementRef",ref:P},null,8,["config"])],64)}}});export{jo as default};
