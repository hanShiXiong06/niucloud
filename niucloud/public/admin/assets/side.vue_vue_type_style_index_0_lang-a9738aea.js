import{d as F,G as V,j as H,r as p,l as N,aZ as U,ca as m,h as l,s as g,w as n,e as c,u as r,c as _,B as $,W as q,F as D,a as i,y as G,aa as I,H as x,es as K,K as O,bR as W,ej as Z,U as z,O as J,A as P}from"./index-9cfed1fc.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                 *//* empty css                        */import{_ as Q}from"./icon-addon-one-638e965c.js";import{_ as T}from"./menu-item.vue_vue_type_style_index_0_lang-e1613868.js";const X={key:0,class:"logo flex items-center m-auto h-[64px]"},Y=i("div",{class:"flex justify-center items-center w-full h-[40px]"},[i("img",{class:"max-w-[40px]",src:Q,alt:"","object-fit":"contain"})],-1),ee={key:1,class:"logo flex items-center justify-center h-[64px]"},se=i("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),ae=[se],ne=i("div",{class:"h-[48px]"},null,-1),he=F({__name:"side",setup(te){const d=V(),t=H(),y=G(),s=t.siteInfo,v=t.routers,w=t.addonIndexRoute,o=p([]),u={},k=N(()=>t.siteInfo.icon?t.siteInfo.icon:d.website.icon),h=p([]),S=async()=>{const e=await I();h.value=e.data,x.set({key:"defaultAppList",data:h.value})},f=p([]),E=async()=>{const e=await K();f.value=e.data.list,x.set({key:"specialAppList",data:f.value})};if(U(()=>{S(),E()}),v.forEach(e=>{e.original_name=e.name,e.meta.addon==""?e.meta.attr==""&&e.name!="sign"&&e.name!="verify"&&(e.children&&e.children.length&&(e.name=m(e.children)),o.value.push(e)):e.meta.addon!=""&&(s==null?void 0:s.apps.length)==1&&(s==null?void 0:s.apps[0].key)==e.meta.addon&&e.meta.show?e.children?(e.children.forEach(a=>{a.original_name=a.name,a.children&&a.children.length&&(a.name=m(a.children))}),o.value.unshift(...e.children)):o.value.unshift(e):u[e.meta.addon]=e}),(s==null?void 0:s.apps.length)>1){const e=[];s==null||s.apps.forEach(a=>{u[a.key]&&(u[a.key].name=w[a.key],e.push(u[a.key]))}),o.value.unshift(...e)}return(e,a)=>{const j=O,L=W,R=Z,b=z,A=J,B=P;return l(),g(B,{class:"w-[200px] h-screen layout-aside flex flex-col"},{default:n(()=>[c(L,{class:"logo-wrap flex items-center justify-center h-[64px]"},{default:n(()=>[r(d).menuIsCollapse?(l(),_("div",ee,ae)):(l(),_("div",X,[c(j,{style:{width:"40px",height:"40px"},src:r($)(r(k)),fit:"contain"},{error:n(()=>[Y]),_:1},8,["src"])]))]),_:1}),c(A,{class:"menu-wrap"},{default:n(()=>[c(b,null,{default:n(()=>[c(R,{"default-active":r(y).name,router:!0,class:"aside-menu h-full","unique-opened":!0,collapse:r(d).menuIsCollapse},{default:n(()=>[(l(!0),_(D,null,q(o.value,(C,M)=>(l(),g(T,{routes:C,key:M},null,8,["routes"]))),128))]),_:1},8,["default-active","collapse"]),ne]),_:1})]),_:1})]),_:1})}}});export{he as _};
