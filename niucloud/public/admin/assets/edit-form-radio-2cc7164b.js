import{d as B,q as s,r as b,aZ as z,ax as D,h as g,c as x,Z as V,_ as k,u as n,a as m,b as y,e as a,w as p,i as f,t as d,F as E,W as I,C as U,$ as F,aD as P,aE as j,M as K,L,E as Z,a8 as A,N as G}from"./index-28ce54e5.js";/* empty css                *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 */import{u as J}from"./diy-8db95550.js";import{S as W}from"./sortable.esm-be94e56d.js";import{r as H}from"./range-1903cc33.js";const Q={class:"content-wrap"},X=["onClick"],Y={class:"mb-[5px]"},ee={class:"text-[#888] text-[12px] mb-[5px]"},te={class:"mt-[10px] text-right"},oe={class:"style-wrap"},ne=B({__name:"edit-form-radio",setup(se,{expose:N}){const e=J();e.editComponent.ignore=["componentBgUrl"],e.editComponent.verify=o=>{const t={code:!0,message:""};let l=!0;for(let r=0;r<e.value[o].options.length;r++)if(!e.value[o].options[r].text){t.code=!1,t.message=s("optionPlaceholder"),l=!1;break}return l&&h(e.value[o].options,"text").length!=e.value[o].options.length&&(t.code=!1,t.message=s("errorTipsOne")),t},e.editComponent.options.forEach(o=>{o.id||(o.id=e.generateRandom())});const _=b(!1),c=b(),R=()=>{e.editComponent.options.push({id:e.generateRandom(),text:"选项"+(e.editComponent.options.length+1)})},T=o=>{e.editComponent.options.splice(o,1)},$=()=>{if(c.value.trim()){const o=c.value.split(",").map(i=>({id:e.generateRandom(),text:i.trim()})).filter(i=>i.text!==""),l=h(o,"text").filter(i=>!e.editComponent.options.some(r=>r.text===i.text));l.length>0?e.editComponent.options.push(...l):F({message:s("errorTipsTwo"),type:"warning"}),c.value="",_.value=!1}},h=(o,t)=>{const l=new Set;return o.filter(i=>{const r=JSON.stringify(i[t]);return l.has(r)?!1:l.add(r)})},C=b();return z(()=>{D(()=>{const o=W.create(C.value,{group:"option-item",animation:200,onEnd:t=>{const l=e.editComponent.options[t.oldIndex];e.editComponent.options.splice(t.oldIndex,1),e.editComponent.options.splice(t.newIndex,0,l),o.sort(H(e.editComponent.options.length).map(i=>i.toString()))}})})}),N({}),(o,t)=>{const l=P,i=j,r=K,w=L,O=Z,M=A,q=G;return g(),x(E,null,[V(m("div",Q,[y(o.$slots,"field"),a(q,{"label-width":"100px",class:"px-[10px]"},{default:p(()=>[a(r,{label:n(s)("style")},{default:p(()=>[a(i,{modelValue:n(e).editComponent.style,"onUpdate:modelValue":t[0]||(t[0]=u=>n(e).editComponent.style=u)},{default:p(()=>[a(l,{label:"style-1"},{default:p(()=>[f(d(n(s)("defaultSources")),1)]),_:1}),a(l,{label:"style-2"},{default:p(()=>[f(d(n(s)("listStyle")),1)]),_:1}),a(l,{label:"style-3"},{default:p(()=>[f(d(n(s)("dropDownStyle")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(r,{label:n(s)("option")},{default:p(()=>[m("div",{ref_key:"formRadioRef",ref:C},[(g(!0),x(E,null,I(n(e).editComponent.options,(u,v)=>(g(),x("div",{key:u.id,class:"option-item flex items-center mb-[15px]"},[a(w,{modelValue:n(e).editComponent.options[v].text,"onUpdate:modelValue":S=>n(e).editComponent.options[v].text=S,class:"!w-[215px]",placeholder:n(s)("optionPlaceholder"),clearable:"",maxlength:"30"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),n(e).editComponent.options.length>1?(g(),x("span",{key:0,onClick:S=>T(v),class:"cursor-pointer ml-[5px] nc-iconfont nc-icon-shanchu-yuangaizhiV6xx"},null,8,X)):U("",!0)]))),128))],512),m("span",{class:"text-primary cursor-pointer mr-[10px]",onClick:R},d(n(s)("addSingleOption")),1),a(M,{visible:_.value,placement:"bottom",width:300},{reference:p(()=>[m("span",{class:"text-primary cursor-pointer",onClick:t[3]||(t[3]=u=>_.value=!0)},d(n(s)("addMultipleOption")),1)]),default:p(()=>[m("p",Y,d(n(s)("addMultipleOption")),1),m("p",ee,d(n(s)("addOptionTips")),1),a(w,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=u=>c.value=u),modelModifiers:{trim:!0},type:"textarea",clearable:"",maxlength:"200","show-word-limit":""},null,8,["modelValue"]),m("div",te,[a(O,{size:"small",text:"",onClick:t[2]||(t[2]=u=>_.value=!1)},{default:p(()=>[f(d(n(s)("cancel")),1)]),_:1}),a(O,{size:"small",type:"primary",onClick:$},{default:p(()=>[f(d(n(s)("confirm")),1)]),_:1})])]),_:1},8,["visible"])]),_:1},8,["label"])]),_:1}),y(o.$slots,"other")],512),[[k,n(e).editTab=="content"]]),V(m("div",oe,[y(o.$slots,"style-field"),y(o.$slots,"style")],512),[[k,n(e).editTab=="style"]])],64)}}}),xe=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{xe as _};
