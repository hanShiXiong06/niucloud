import{d as R,j as B,G as U,l as x,r as i,ca as O,R as $,h as n,c as a,a as p,v as f,u as s,F as h,W as S,e as D,w as E,C as d,y as G,a7 as J,ej as K,U as T,f as W,J as q,x as H,bG as P,s as v,t as N,K as Q}from"./index-9cfed1fc.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  */import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-e50d9a7c.js";/* empty css                 *//* empty css                        */import Y from"./menu-item-df14e304.js";import{e as Z}from"./addon-8efce1c8.js";import{a as ee}from"./module-212dc38c.js";const te={class:"flex flex-col border-0 border-r-[1px] border-solid border-[var(--el-color-info-light-8)] box-border overflow-hidden"},se={class:"flex flex-col items-center"},ne=["title","onClick"],oe={key:0,class:"text-left text-[14px] mt-[3px] w-[75px] using-hidden ml-[10px]"},ae={key:1,class:"text-center text-[12px] using-hidden mt-1"},le={key:2,class:"text-[11px] bg-[#DA203E] px-[10px] rounded-[12px] text-[#fff] absolute right-[6px]"},re={key:3,class:"w-[7px] h-[7px] bg-[#DA203E] absolute flex items-center justify-center rounded-full top-[4px] right-[14px]"},ie={key:4,class:"text-[11px] bg-[#DA203E] px-[10px] rounded-[12px] text-[#fff] absolute right-[6px]"},ce={key:5,class:"w-[7px] h-[7px] bg-[#DA203E] absolute flex items-center justify-center rounded-full top-[4px] right-[14px]"},ue={key:0,class:"flex flex-col two-menu w-[185px]"},de=p("div",{class:"h-[48px]"},null,-1),Se=R({__name:"index",setup(pe){const c=G(),g=B(),A=g.routers,o=U(),L=W(),j=x(()=>o.dark);x(()=>g.siteInfo.icon?g.siteInfo.icon:o.website.icon);const m=i([]),C=i([]),y=i([]);A.forEach(t=>{t.original_name=t.name,t.children&&t.children.length&&(t.name=O(t.children)),y.value.push(t)});const b=i(y.value[0].name);$(c,()=>{m.value=c.matched[1].children??[],b.value=c.matched[1].name==q.children[0].name?c.matched[2].name:c.matched[1].name,C.value=m.value.map(t=>t.name)},{immediate:!0});const _=i([]);(()=>{Z({}).then(t=>{var u;const l=t.data.list;_.value=[];for(const r in l)l[r].install_info&&((u=Object.keys(l[r].install_info))!=null&&u.length)&&l[r].install_info.version!=l[r].version&&_.value.push(l[r])}).catch(()=>{})})();const k=i([]),w=x(()=>{if(!I.value||I.value.version_no===V.value)return!1;const t=String(V.value),l=String(I.value.version_no),u=parseInt(t.replace(/\./g,""),10);return parseInt(l.replace(/\./g,""),10)>u});(()=>{ee().then(({data:t})=>{k.value=t}).catch(()=>{})})();const I=x(()=>k.value.length?k.value[0]:null),V=i("");return(()=>{J().then(t=>{V.value=t.data.version.version})})(),(t,l)=>{const u=Q,r=X,z=K,M=T;return n(),a("div",{class:f(["layout-aside ease-in duration-200 flex box-border",{bright:!s(j)}])},[p("div",te,[p("div",{class:f(["w-[150px] one-menu hide-scrollbar",{expanded:s(o).menuIsCollapse}])},[p("div",se,[(n(!0),a(h,null,S(y.value,(e,F)=>(n(),a(h,null,[e.meta.show?(n(),a("div",{key:0,title:s(o).menuIsCollapse?e.meta.title:e.meta.short_title,class:f(["menu-item my-[2px] p-2 flex w-full box-border cursor-pointer relative",{"is-active":b.value===e.original_name,"hover-left":s(o).menuIsCollapse,vertical:!s(o).menuIsCollapse,horizontal:s(o).menuIsCollapse}]),style:H({height:s(o).menuIsCollapse?"40px":"55px"}),onClick:fe=>s(L).push({name:e.name})},[p("div",{class:f(["w-[20px] h-[20px] flex items-center justify-center menu-icon",{"is-active":b.value===e.original_name}])},[e.meta.icon?(n(),a(h,{key:0},[s(P)(e.meta.icon)?(n(),v(u,{key:0,class:"w-[20px] h-[20px] overflow-hidden",src:e.meta.icon,fit:"fill"},null,8,["src"])):(n(),v(r,{key:1,name:e.meta.icon,size:"20px",color:"#1D1F3A"},null,8,["name"]))],64)):(n(),v(r,{key:1,name:"iconfont iconshezhi1",color:"#1D1F3A"}))],2),s(o).menuIsCollapse?(n(),a("div",oe,N(e.meta.title||e.meta.short_title),1)):(n(),a("div",ae,N(e.meta.short_title||e.meta.title),1)),s(o).menuIsCollapse&&e.name=="app_store"&&_.value.length>0?(n(),a("div",le,"更新")):d("",!0),!s(o).menuIsCollapse&&e.name=="app_store"&&_.value.length>0?(n(),a("div",re)):d("",!0),s(o).menuIsCollapse&&e.original_name=="tool"&&s(w)?(n(),a("div",ie,"更新")):d("",!0),!s(o).menuIsCollapse&&e.original_name=="tool"&&s(w)?(n(),a("div",ce)):d("",!0)],14,ne)):d("",!0)],64))),256))])],2)]),m.value.length?(n(),a("div",ue,[D(M,{class:"flex-1"},{default:E(()=>[D(z,{"default-active":s(c).name,"default-openeds":C.value,router:!0,class:"aside-menu"},{default:E(()=>[(n(!0),a(h,null,S(m.value,(e,F)=>(n(),v(Y,{routes:e,key:F,isNewVersion:s(w)},null,8,["routes","isNewVersion"]))),128))]),_:1},8,["default-active","default-openeds"]),de]),_:1})])):d("",!0)],2)}}});export{Se as _};
