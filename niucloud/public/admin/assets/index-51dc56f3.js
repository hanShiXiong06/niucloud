import{d as N,l as M,r as f,n as O,a5 as y,h as _,c as q,a as p,b as F,e as n,w as s,X,u as i,s as v,q as d,i as V,t as h,Z,ax as G,$ as H,a0 as J,L as K,aF as Q,aj as W,ak as Y,a2 as ee,E as te,V as ae,a3 as le}from"./index-28ce54e5.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        */import{C as oe}from"./diy-11e88ad9.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";const ie=["onClick"],se={class:"mt-[16px] flex"},de={class:"dialog-footer"},re=N({__name:"index",props:{modelValue:{type:Object,default:()=>({id:0,name:"",parent:"",title:"",url:""})},ignore:{type:Array,default:[]}},emits:["update:modelValue","confirm","success"],setup(w,{expose:E,emit:D}){const T=w,z=()=>{a.value={id:0,name:"",parent:"",title:"",url:""}},a=M({get(){return T.modelValue},set(l){D("update:modelValue",l)}});f();const e=O({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{name:""}}),L=f(),r=f(!1),k=()=>{r.value=!0,u()},u=(l=1)=>{e.loading=!0,e.page=l,oe({page:e.page,limit:e.limit,...e.searchParam}).then(t=>{e.loading=!1,e.data=t.data.data,e.data.forEach(c=>{c.checked=c.id==a.value.id}),e.total=t.data.total,b()}).catch(()=>{e.loading=!1})};u();const U=(l,t)=>{l?a.value.id=t.id:a.value.id=0,b()},b=()=>{G(()=>{for(let l=0;l<e.data.length;l++)e.data[l].checked=!1,a.value.id==e.data[l].id&&(e.data[l].checked=!0,Object.assign(a.value,e.data[l]))})},B=()=>{if(a.value.id==0){H({type:"warning",message:`${d("请选择页面")}`});return}a.value={id:a.value.id,name:a.value.name,parent:a.value.parent,title:a.value.title,url:a.value.url},r.value=!1};return E({show:k,showDialog:r}),(l,t)=>{const c=y("Close"),C=J,$=y("ArrowRight"),j=K,P=Q,m=W,R=Y,S=ee,x=te,A=ae,I=le;return _(),q("div",null,[p("div",{onClick:k},[F(l.$slots,"default",{},()=>[n(j,{modelValue:i(a).title,"onUpdate:modelValue":t[0]||(t[0]=o=>i(a).title=o),placeholder:i(d)("请选择跳转页面"),readonly:"",class:"link-input"},{suffix:s(()=>[p("div",{onClick:X(z,["stop"])},[i(a).name?(_(),v(C,{key:0},{default:s(()=>[n(c)]),_:1})):(_(),v(C,{key:1},{default:s(()=>[n($)]),_:1}))],8,ie)]),_:1},8,["modelValue","placeholder"])],!0)]),n(A,{modelValue:r.value,"onUpdate:modelValue":t[5]||(t[5]=o=>r.value=o),title:i(d)("页面选择"),width:"850px","destroy-on-close":!0,"close-on-click-modal":!1},{footer:s(()=>[p("span",de,[n(x,{onClick:t[4]||(t[4]=o=>r.value=!1)},{default:s(()=>[V(h(i(d)("cancel")),1)]),_:1}),n(x,{type:"primary",onClick:B},{default:s(()=>[V(h(i(d)("confirm")),1)]),_:1})])]),default:s(()=>[Z((_(),v(R,{data:e.data,size:"large",ref_key:"timeListTableRef",ref:L,"max-height":"400"},{empty:s(()=>[p("span",null,h(e.loading?"":i(d)("emptyData")),1)]),default:s(()=>[n(m,{"min-width":"7%"},{default:s(({row:o})=>[n(P,{modelValue:o.checked,"onUpdate:modelValue":g=>o.checked=g,onChange:g=>U(g,o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),n(m,{prop:"page_title",label:i(d)("页面名称"),"min-width":"25%"},null,8,["label"]),n(m,{prop:"type_name",label:i(d)("页面类型"),"min-width":"25%"},null,8,["label"]),n(m,{prop:"url",label:i(d)("页面路径"),"min-width":"25%"},null,8,["label"])]),_:1},8,["data"])),[[I,e.loading]]),p("div",se,[n(S,{"current-page":e.page,"onUpdate:current-page":t[1]||(t[1]=o=>e.page=o),"page-size":e.limit,"onUpdate:page-size":t[2]||(t[2]=o=>e.limit=o),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:t[3]||(t[3]=o=>u()),onCurrentChange:u},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue","title"])])}}});const Te=ne(re,[["__scopeId","data-v-7ce99b34"]]);export{Te as default};
