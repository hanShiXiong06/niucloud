import{d as B,f as R,y as M,j as b,G as N,l as k,r as $,R as F,u as e,h as l,c,s as u,w as _,C as d,a as f,t as p,F as y,v as C,W as V,ek as q,el as A}from"./index-9cfed1fc.js";import"./el-sub-menu-4ed993c7.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-e50d9a7c.js";const G={key:0,class:"flex h-full flex-col items-center justify-center"},K={class:"leading-none mt-[5px]"},L={key:0,class:"flex h-full flex-col items-center justify-center"},O={class:"leading-none mt-[5px]"},W=B({__name:"menu-item",props:{routes:{type:Object,required:!0},level:{type:Number,default:1}},setup(i){const n=i,z=R(),m=M(),x=b(),I=b().routers,h=N(),t=k(()=>n.routes.meta);k(()=>{var o,a;const s={};return(o=x.siteInfo)==null||o.apps.forEach(r=>{s[r.key]=r}),(a=x.siteInfo)==null||a.site_addons.forEach(r=>{s[r.key]=r}),s});const E=k(()=>{var s;return(s=x.siteInfo)==null?void 0:s.site_addons.map(o=>o.key)}),v={};I.forEach(s=>{s.original_name=s.name,s.meta.addon&&(v[s.meta.addon]=s)});const g=$(null);return F(m,()=>{n.routes.name=="addon_list"&&(E.value.includes(m.meta.addon)&&v[m.meta.addon]?g.value=v[m.meta.addon]:g.value=null)},{immediate:!0}),(s,o)=>{const a=D,r=q,j=A;return e(t).show?(l(),c(y,{key:0},[e(t).type==0&&i.routes.children?(l(),u(r,{key:0,index:String(i.routes.name)},{title:_(()=>[e(h).menuIsCollapse&&n.level==1?(l(),c("div",G,[e(t).icon?(l(),u(a,{key:0,name:e(t).icon,size:"20px",class:"leading-none"},null,8,["name"])):d("",!0),f("div",K,p(e(t).short_title||e(t).title),1)])):(l(),c(y,{key:1},[e(t).icon&&n.level!=1?(l(),u(a,{key:0,name:e(t).icon,size:n.level==1?"20px":"16px",class:"absolute"},null,8,["name","size"])):d("",!0)],64)),f("span",{class:C(["text-[14px]",{"font-bold":n.level===1," ml-[20px]":e(t).icon&&n.level!=1}])},p(e(t).title),3)]),default:_(()=>[(l(!0),c(y,null,V(i.routes.children,(S,w)=>(l(),u(W,{routes:S,key:w,level:n.level+1},null,8,["routes","level"]))),128))]),_:1},8,["index"])):(l(),u(j,{key:1,index:String(i.routes.name),onClick:o[0]||(o[0]=S=>e(z).push({name:i.routes.name}))},{title:_(()=>[f("span",{class:C(["text-[14px]",{"font-bold":n.level===1," ml-[20px]":e(t).icon&&n.level!=1}])},p(e(t).title),3)]),default:_(()=>[e(h).menuIsCollapse&&n.level==1?(l(),c("div",L,[e(t).icon?(l(),u(a,{key:0,name:e(t).icon,size:"20px",class:"leading-none"},null,8,["name"])):d("",!0),f("div",O,p(e(t).short_title||e(t).title),1)])):(l(),c(y,{key:1},[e(t).icon&&n.level!=1?(l(),u(a,{key:0,name:e(t).icon,size:n.level==1?"20px":"16px",class:"absolute"},null,8,["name","size"])):d("",!0)],64))]),_:1},8,["index"]))],64)):d("",!0)}}});export{W as _};
