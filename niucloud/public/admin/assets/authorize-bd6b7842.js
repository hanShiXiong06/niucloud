import{d as T,r as n,n as B,q as r,a5 as S,h as f,c as N,Z,s as y,w as a,a as e,t as _,e as o,i as m,u as v,C as G,a6 as J,a7 as K,a0 as O,E as Q,a8 as W,L as X,M as Y,a9 as ee,N as te,V as ae,a3 as oe,p as se,g as le}from"./index-0b74b7aa.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                   *//* empty css                  */import{g as ne,s as re}from"./module-ab3377c8.js";import{_ as ce}from"./_plugin-vue_export-helper-c27b6911.js";const ie=""+new URL("authorize-2f3431d6.png",import.meta.url).href,x=g=>(se("data-v-a7e75010"),g=g(),le(),g),de={class:"main-container"},pe={key:0},ue=x(()=>e("div",{class:"title text-[16px] font-bold text-[#1D1F3A] mb-[30px]"},"授权信息",-1)),_e={class:"flex items-center"},me=x(()=>e("div",{class:"w-[92px] h-[92px] rounded-[10px] flex justify-center items-center mr-[20px]"},[e("img",{src:ie,class:"w-[92px] h-[92px]"})],-1)),xe={class:"flex flex-col justify-between font-500"},he={class:"flex flex-wrap items-center mb-[12px]"},fe=x(()=>e("span",{class:"mr-[6px] text-[14px] text-[#666666] w-[70px] text-left"},"授权公司：",-1)),ve={class:"text-[14px] text-[#333]"},ge={class:"flex flex-wrap items-center mb-[12px]"},we=x(()=>e("span",{class:"mr-[6px] text-[14px] text-[#666666] w-[70px] text-left"},"授权域名：",-1)),ye={class:"text-[14px] text-[#333]"},Ce={class:"flex flex-wrap items-center"},ke=x(()=>e("span",{class:"mr-[6px] text-[14px] text-[#666666] w-[70px] text-left"},"授权码：",-1)),Ve={class:"text-[14px] text-[#333]"},be={class:"mr-[10px]"},Ie={class:"mt-[17px] ml-[110px]"},Ae={class:"px-[18px] py-[8px]"},De=x(()=>e("p",{class:"leading-[32px] text-[14px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),Ee={class:"flex justify-end mt-[36px]"},ze={class:"mt-[20px]"},Be={class:"text-sm mt-[10px] text-info"},Se={class:"mt-[20px]"},Ne={class:"mt-[10px] text-right"},Pe=T({__name:"authorize",setup(g){const C=n(null),c=n(!1),i=n(!1),P=s=>{const t=J(s);return t.slice(0,t.length/2)+t.slice(t.length/2,t.length-1).replace(/./g,"*")},F=()=>{c.value=!0},d=n({company_name:"",site_address:"",auth_code:""}),w=n(!0),h=n(!1),k=()=>{ne().then(s=>{w.value=!1,s.data.data&&s.data.data.length!=0&&(d.value=s.data.data,c.value=!1)}).catch(()=>{w.value=!1,c.value=!1})};k();const p=B({auth_code:"",auth_secret:""}),V=n(),L=B({auth_code:[{required:!0,message:r("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:r("authSecretPlaceholder"),trigger:"blur"}]}),M=async s=>{h.value||!s||await s.validate(async t=>{t&&(h.value=!0,re(p).then(()=>{h.value=!1,k()}).catch(()=>{h.value=!1,c.value=!1}))})},b=()=>{window.open("https://www.niucloud.com/app")},R=n("");return(()=>{K().then(s=>{R.value=s.data.version.version})})(),(s,t)=>{const I=S("View"),A=O,U=S("Hide"),u=Q,$=W,D=X,E=Y,z=ee,j=te,q=ae,H=oe;return f(),N("div",de,[Z((f(),y(z,{class:"box-card !border-none min-h-[300px]",shadow:"never"},{default:a(()=>[w.value?G("",!0):(f(),N("div",pe,[ue,e("div",null,[e("div",_e,[me,e("div",xe,[e("div",he,[fe,e("span",ve,_(d.value.company_name||"--"),1)]),e("div",ge,[we,e("span",ye,_(d.value.site_address||"--"),1)]),e("div",Ce,[ke,e("span",Ve,[e("span",be,_(d.value.auth_code?i.value?d.value.auth_code:P(d.value.auth_code):"--"),1),i.value?(f(),y(A,{key:1,onClick:t[1]||(t[1]=l=>i.value=!i.value),class:"text-[14px] cursor-pointer text-[#9699B6]"},{default:a(()=>[o(U)]),_:1})):(f(),y(A,{key:0,onClick:t[0]||(t[0]=l=>i.value=!i.value),class:"text-[14px] cursor-pointer text-[#9699B6]"},{default:a(()=>[o(I)]),_:1}))])])])]),e("div",Ie,[o(u,{class:"!w-[140px] !h-[32px] mt-[8px] !rounded-[4px]",type:"primary",onClick:F},{default:a(()=>[m("授权码认证")]),_:1}),o($,{ref_key:"getAuthCodeDialog",ref:C,placement:"bottom-start",width:478,trigger:"click",class:"mt-[8px]"},{reference:a(()=>[o(u,{class:"!w-[140px] !h-[32px] mt-[8px] !rounded-[4px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:a(()=>[m("如何获取授权码?")]),_:1})]),default:a(()=>[e("div",Ae,[De,e("div",Ee,[o(u,{class:"w-[182px] !h-[48px]",plain:"",onClick:b},{default:a(()=>[m("去应用市场逛逛")]),_:1}),o(u,{class:"w-[100px] !h-[48px]",plain:"",onClick:t[2]||(t[2]=l=>C.value.hide())},{default:a(()=>[m("关闭")]),_:1})])])]),_:1},512)]),o(q,{modelValue:c.value,"onUpdate:modelValue":t[6]||(t[6]=l=>c.value=l),title:"授权码认证",width:"400px"},{default:a(()=>[o(j,{model:p,"label-width":"0",ref_key:"formRef",ref:V,rules:L,class:"page-form"},{default:a(()=>[o(z,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[o(E,{prop:"auth_code"},{default:a(()=>[o(D,{modelValue:p.auth_code,"onUpdate:modelValue":t[3]||(t[3]=l=>p.auth_code=l),modelModifiers:{trim:!0},placeholder:v(r)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),e("div",ze,[o(E,{prop:"auth_secret"},{default:a(()=>[o(D,{modelValue:p.auth_secret,"onUpdate:modelValue":t[4]||(t[4]=l=>p.auth_secret=l),modelModifiers:{trim:!0},clearable:"",placeholder:v(r)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),e("div",Be,_(v(r)("authInfoTips")),1),e("div",Se,[o(u,{type:"primary",class:"w-full",size:"large",loading:h.value,onClick:t[5]||(t[5]=l=>M(V.value))},{default:a(()=>[m(_(v(r)("confirm")),1)]),_:1},8,["loading"])]),e("div",Ne,[o(u,{type:"primary",link:"",onClick:b},{default:a(()=>[m(_(v(r)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])]))]),_:1})),[[H,w.value]])])}}});const Oe=ce(Pe,[["__scopeId","data-v-a7e75010"]]);export{Oe as default};
