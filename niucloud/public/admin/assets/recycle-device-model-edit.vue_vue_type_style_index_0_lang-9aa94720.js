import{P as p,d as N,r as f,n as U,l as x,q as l,h as b,s as h,w as c,a as I,e as r,bC as w,i as V,t as M,u as t,Z as C,L as F,M as B,N as S,E as T,V as $,a3 as L}from"./index-0b74b7aa.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */function ee(s){return p.get("recycle/recycle_device_model",{params:s})}function j(s){return p.get(`recycle/recycle_device_model/${s}`)}function O(s){return p.post("recycle/recycle_device_model",s,{showErrorMessage:!0,showSuccessMessage:!0})}function Z(s){return p.put(`recycle/recycle_device_model/${s.id}`,s,{showErrorMessage:!0,showSuccessMessage:!0})}function le(s){return p.delete(`recycle/recycle_device_model/${s}`,{showErrorMessage:!0,showSuccessMessage:!0})}const z={class:"dialog-footer"},ae=N({__name:"recycle-device-model-edit",emits:["complete"],setup(s,{expose:D,emit:P}){let i=f(!1);const u=f(!1),g={id:"",brand_id:"",model_name:"",network_model:"",capacity:"",device_type:"",status:""},a=U({...g}),v=f(),k=x(()=>({brand_id:[{required:!0,message:l("brandIdPlaceholder"),trigger:"blur"}],model_name:[{required:!0,message:l("modelNamePlaceholder"),trigger:"blur"}],network_model:[{required:!0,message:l("networkModelPlaceholder"),trigger:"blur"}],capacity:[{required:!0,message:l("capacityPlaceholder"),trigger:"blur"}],device_type:[{required:!0,message:l("deviceTypePlaceholder"),trigger:"blur"}],status:[{required:!0,message:l("statusPlaceholder"),trigger:"blur"}]})),R=async m=>{if(u.value||!m)return;let e=a.id?Z:O;await m.validate(async d=>{d&&(u.value=!0,e(a).then(_=>{u.value=!1,i.value=!1,P("complete")}).catch(_=>{u.value=!1}))})};return D({showDialog:i,setFormData:async(m=null)=>{if(Object.assign(a,g),u.value=!0,m){const e=await(await j(m.id)).data;e&&Object.keys(a).forEach(d=>{e[d]!=null&&(a[d]=e[d])})}u.value=!1}}),(m,e)=>{const d=F,n=B,_=S,y=T,E=$,q=L;return b(),h(E,{modelValue:t(i),"onUpdate:modelValue":e[8]||(e[8]=o=>w(i)?i.value=o:i=o),title:a.id?t(l)("updateRecycleDeviceModel"):t(l)("addRecycleDeviceModel"),width:"50%",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:c(()=>[I("span",z,[r(y,{onClick:e[6]||(e[6]=o=>w(i)?i.value=!1:i=!1)},{default:c(()=>[V(M(t(l)("cancel")),1)]),_:1}),r(y,{type:"primary",loading:u.value,onClick:e[7]||(e[7]=o=>R(v.value))},{default:c(()=>[V(M(t(l)("confirm")),1)]),_:1},8,["loading"])])]),default:c(()=>[C((b(),h(_,{model:a,"label-width":"120px",ref_key:"formRef",ref:v,rules:t(k),class:"page-form"},{default:c(()=>[r(n,{label:t(l)("brandId"),prop:"brand_id"},{default:c(()=>[r(d,{modelValue:a.brand_id,"onUpdate:modelValue":e[0]||(e[0]=o=>a.brand_id=o),clearable:"",placeholder:t(l)("brandIdPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(n,{label:t(l)("modelName"),prop:"model_name"},{default:c(()=>[r(d,{modelValue:a.model_name,"onUpdate:modelValue":e[1]||(e[1]=o=>a.model_name=o),clearable:"",placeholder:t(l)("modelNamePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(n,{label:t(l)("networkModel")},{default:c(()=>[r(d,{modelValue:a.network_model,"onUpdate:modelValue":e[2]||(e[2]=o=>a.network_model=o),clearable:"",placeholder:t(l)("networkModelPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(n,{label:t(l)("capacity")},{default:c(()=>[r(d,{modelValue:a.capacity,"onUpdate:modelValue":e[3]||(e[3]=o=>a.capacity=o),clearable:"",placeholder:t(l)("capacityPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(n,{label:t(l)("deviceType")},{default:c(()=>[r(d,{modelValue:a.device_type,"onUpdate:modelValue":e[4]||(e[4]=o=>a.device_type=o),clearable:"",placeholder:t(l)("deviceTypePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(n,{label:t(l)("status"),prop:"status"},{default:c(()=>[r(d,{modelValue:a.status,"onUpdate:modelValue":e[5]||(e[5]=o=>a.status=o),clearable:"",placeholder:t(l)("statusPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[q,u.value]])]),_:1},8,["modelValue","title"])}}});export{ae as _,le as d,ee as g};
