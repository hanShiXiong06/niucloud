import{d as m,l as g,$ as s,q as d,T as _,H as f,h as y,s as w,w as l,b as h,e as v,i as x,t as V,u as b,bn as E,E as S,bw as k}from"./index-6a69b8ba.js";/* empty css                  *//* empty css                    *//* empty css                  */const A=m({__name:"index",props:{modelValue:{type:String,default:""},api:{type:String,default:"sys/audio"}},emits:["update:modelValue"],setup(n,{emit:r}){const u=n,p=g({get(){return u.modelValue},set(e){r("update:modelValue",e)}}),a={action:`/adminapi//${u.api}`,showFileList:!1,headers:{},accept:"audio/*,.mp3,.wav,.ogg,.m4a,.flac,.aac,.wma",beforeUpload:e=>{const t=["audio/mp3","audio/wav","audio/ogg","audio/m4a","audio/flac","audio/aac","audio/wma","audio/mpeg"],o=[".mp3",".wav",".ogg",".m4a",".flac",".aac",".wma"];return t.includes(e.type)||o.some(c=>e.name.toLowerCase().endsWith(c))?!0:(s({message:d("请上传音频文件"),type:"error"}),!1)},onSuccess:(e,t)=>{if(e.code!=null&&e.code!=1){s({message:e.msg,type:"error"});return}p.value=e.data.url,s({message:d("upload.success"),type:"success"})}};return a.headers.token=_(),a.headers["site-id"]=f.get("siteId")||0,(e,t)=>{const o=S,i=k;return y(),w(i,E(a,{class:"upload-file"}),{default:l(()=>[h(e.$slots,"default",{},()=>[v(o,{type:"primary"},{default:l(()=>[x(V(b(d)("上传音频")),1)]),_:1})])]),_:3},16)}}});export{A as default};
