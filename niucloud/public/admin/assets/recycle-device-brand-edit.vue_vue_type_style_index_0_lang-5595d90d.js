import{P as p,d as N,r as f,n as q,l as x,q as a,h as y,s as h,w as c,a as F,e as d,bC as w,i as V,t as D,u as t,Z as U,L as k,M as S,N as $,E as I,V as L,a3 as j}from"./index-9cfed1fc.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */function ee(o){return p.get("recycle/recycle_device_brand",{params:o})}function O(o){return p.get(`recycle/recycle_device_brand/${o}`)}function T(o){return p.post("recycle/recycle_device_brand",o,{showErrorMessage:!0,showSuccessMessage:!0})}function Z(o){return p.put(`recycle/recycle_device_brand/${o.id}`,o,{showErrorMessage:!0,showSuccessMessage:!0})}function ae(o){return p.delete(`recycle/recycle_device_brand/${o}`,{showErrorMessage:!0,showSuccessMessage:!0})}const z={class:"dialog-footer"},le=N({__name:"recycle-device-brand-edit",emits:["complete"],setup(o,{expose:B,emit:R}){let n=f(!1);const u=f(!1),b={id:"",brand_name:"",brand_code:"",status:"",sort:""},l=q({...b}),g=f(),E=x(()=>({brand_name:[{required:!0,message:a("brandNamePlaceholder"),trigger:"blur"}],brand_code:[{required:!0,message:a("brandCodePlaceholder"),trigger:"blur"}],status:[{required:!0,message:a("statusPlaceholder"),trigger:"blur"}],sort:[{required:!0,message:a("sortPlaceholder"),trigger:"blur"}]})),P=async i=>{if(u.value||!i)return;let e=l.id?Z:T;await i.validate(async s=>{s&&(u.value=!0,e(l).then(_=>{u.value=!1,n.value=!1,R("complete")}).catch(_=>{u.value=!1}))})};return B({showDialog:n,setFormData:async(i=null)=>{if(Object.assign(l,b),u.value=!0,i){const e=await(await O(i.id)).data;e&&Object.keys(l).forEach(s=>{e[s]!=null&&(l[s]=e[s])})}u.value=!1}}),(i,e)=>{const s=k,m=S,_=$,v=I,C=L,M=j;return y(),h(C,{modelValue:t(n),"onUpdate:modelValue":e[6]||(e[6]=r=>w(n)?n.value=r:n=r),title:l.id?t(a)("updateRecycleDeviceBrand"):t(a)("addRecycleDeviceBrand"),width:"50%",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:c(()=>[F("span",z,[d(v,{onClick:e[4]||(e[4]=r=>w(n)?n.value=!1:n=!1)},{default:c(()=>[V(D(t(a)("cancel")),1)]),_:1}),d(v,{type:"primary",loading:u.value,onClick:e[5]||(e[5]=r=>P(g.value))},{default:c(()=>[V(D(t(a)("confirm")),1)]),_:1},8,["loading"])])]),default:c(()=>[U((y(),h(_,{model:l,"label-width":"120px",ref_key:"formRef",ref:g,rules:t(E),class:"page-form"},{default:c(()=>[d(m,{label:t(a)("brandName"),prop:"brand_name"},{default:c(()=>[d(s,{modelValue:l.brand_name,"onUpdate:modelValue":e[0]||(e[0]=r=>l.brand_name=r),clearable:"",placeholder:t(a)("brandNamePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(m,{label:t(a)("brandCode"),prop:"brand_code"},{default:c(()=>[d(s,{modelValue:l.brand_code,"onUpdate:modelValue":e[1]||(e[1]=r=>l.brand_code=r),clearable:"",placeholder:t(a)("brandCodePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(m,{label:t(a)("status"),prop:"status"},{default:c(()=>[d(s,{modelValue:l.status,"onUpdate:modelValue":e[2]||(e[2]=r=>l.status=r),clearable:"",placeholder:t(a)("statusPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(m,{label:t(a)("sort"),prop:"sort"},{default:c(()=>[d(s,{modelValue:l.sort,"onUpdate:modelValue":e[3]||(e[3]=r=>l.sort=r),clearable:"",placeholder:t(a)("sortPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[M,u.value]])]),_:1},8,["modelValue","title"])}}});export{le as _,ae as d,ee as g};
