import{d as ie,H as u,ep as re,G as ae,ee as ce,r as _,j as pe,l as T,aZ as de,h as a,s as L,w as o,e as i,a as e,c as v,W as M,u as l,F as N,t as c,v as P,i as W,q as f,C as ue,Z as q,bk as z,eg as me,b0 as _e,bt as fe,bu as he,bv as xe,a1 as ve,E as ge,a8 as be,b1 as we,V as ye,A as ke,p as Se,g as Ee,y as Ce,f as Ve,eh as Ie,a4 as Re}from"./index-0b74b7aa.js";/* empty css                  *//* empty css                   *//* empty css               *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                         *//* empty css                           */import{_ as Te}from"./index.vue_vue_type_script_setup_true_lang-cb8d7a65.js";import Le from"./layout-setting-86e6c562.js";import We from"./user-info-bfe6b738.js";import{_ as Be}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                        *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import"./member_head-d9fd7b2c.js";import"./personal-3de6864f.js";import"./index.vue_vue_type_script_setup_true_lang-664e1ff3.js";import"./index-50c1a6c1.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-d61b6ebc.js";import"./attachment-c8c37cd4.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-832af570.js";/* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                    */import"./index.vue_vue_type_script_setup_true_lang-00957a82.js";import"./sortable.esm-be94e56d.js";/* empty css                        */const De=g=>(Se("data-v-580e0a9e"),g=g(),Ee(),g),$e={class:"left-panel h-full flex items-center"},Ue={class:"flex items-center h-full pl-[10px] hidden-xs-only"},je={class:"right-panel h-full flex items-center justify-end"},Fe={class:"flex items-center flex-shrink-0 hidden-xs-only"},Me={class:"mx-[8px] bg-[#f6f6f6] border-[1px] border-solid border-[#eee] rounded-[4px] px-[9px] py-[6px] flex items-center"},Ne={class:"mr-[6px] text-[12px] !text-[#333]"},Pe={class:"text-[14px]"},qe={key:0,class:"text-[14px]"},ze={key:1,class:"text-[14px]"},Ae={class:"flex items-center flex-shrink-0 hidden-xs-only"},He=De(()=>e("i",{class:"iconfont icona-sousuoV6xx-36 cursor-pointer px-[8px] !text-[14px]"},null,-1)),Oe={class:"flex items-center"},Ze=["title"],Ge=["title"],Je={class:"navbar-item flex items-center h-full cursor-pointer"},Ke={class:"navbar-item flex items-center h-full cursor-pointer"},Qe={class:"dialog-footer"},Xe=ie({__name:"index",setup(g){const A=u.get("app_type");re();const H=ae(),B=ce(),O=Ce(),D=Ve(),Z=_(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth),$=pe(),p=T(()=>$.siteInfo),G=T(()=>H.dark),b=_(!1),J=$.routers,K=n=>{let t=[],r=n==null?void 0:n.parent_route;for(;r;)r.short_title&&t.unshift(r.short_title),r=r.parent_route;return t.join(" - ")},U=(n,t=null)=>{let r=[];return n.forEach(S=>{const{path:C,name:E,meta:d={},short_title:V,children:h}=S;if(d.type==1&&d.show==1){const x=d.title||V||"",m=K(d),I=m?`${m} - ${x}`:x,R={path:C,name:E,title:x,parent_title:m,full_title:I};r.push(R)}h&&h.length>0&&(r=r.concat(U(h,S)))}),r},Q=U(J),j=_(""),X=n=>{n&&(D.push({name:n}),b.value=!1)},w=_(!1),y=_(""),k=_("");u.get("comparisonTokenStorage")&&(y.value=u.get("comparisonTokenStorage")),u.get("comparisonSiteIdStorage")&&(k.value=u.get("comparisonSiteIdStorage")),document.addEventListener("visibilitychange",n=>{document.visibilityState==="visible"&&(k.value!=u.get("siteId")||y.value!=u.get("token"))&&(w.value=!0)});const Y=()=>{w.value=!1,location.href=`${location.origin}/site/`};de(()=>{window.onresize=()=>(()=>{Z.value=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})()});const ee=()=>{B.routeRefreshTag&&B.refreshRouterView()},te=T(()=>{const n=O.matched.filter(t=>t.meta.title);return n[0]&&n[0].path=="/"&&n.splice(0,1),n}),oe=()=>{const n=D.resolve({path:"/preview/wap",query:{page:"/"}});window.open(n.href)};return(n,t)=>{const r=Te,S=Ie,C=me,E=_e,d=fe,V=he,h=xe,F=Re,x=ve,m=ge,I=be,R=we,ne=ye,se=ke;return a(),L(se,{class:P(["h-full px-[10px]",{"layout-header border-b border-color":!l(G)}])},{default:o(()=>[i(R,{class:"w-100 h-full w-full"},{default:o(()=>[i(E,{span:10},{default:o(()=>[e("div",$e,[e("div",{class:"navbar-item flex items-center h-full cursor-pointer",onClick:ee},[i(r,{name:"element Refresh"})]),e("div",Ue,[i(C,{separator:"/"},{default:o(()=>[(a(!0),v(N,null,M(l(te),(s,le)=>(a(),L(S,{key:le,to:s.path,class:"inter"},{default:o(()=>[W(c(s.meta.title),1)]),_:2},1032,["to"]))),128))]),_:1})])])]),_:1}),i(E,{span:14},{default:o(()=>[e("div",je,[e("div",Fe,[i(h,{trigger:"hover","hide-on-click":!1,"popper-class":"site-info-wrap",class:"mr-[8px]"},{dropdown:o(()=>[i(V,null,{default:o(()=>[i(d,null,{default:o(()=>[e("div",Pe,"站点编号："+c(l(p).site_id),1)]),_:1}),i(d,null,{default:o(()=>[l(p).expire_time==0?(a(),v("div",qe,"到期时间：永久")):(a(),v("div",ze,"到期时间："+c(l(p).expire_time),1))]),_:1})]),_:1})]),default:o(()=>[e("div",Me,[e("span",Ne,c(l(p).site_name),1),e("span",{class:P(["!text-[10px] text-[#f56c6c]",{"!text-[#67c23a]":l(p).status==1,"!text-[#f56c6c]":l(p).status==3}])},c(l(p).status_name),3)])]),_:1})]),e("div",Ae,[i(I,{placement:"bottom",width:330,trigger:"click",visible:b.value,"onUpdate:visible":t[2]||(t[2]=s=>b.value=s)},{reference:o(()=>[He]),default:o(()=>[e("div",Oe,[i(x,{modelValue:j.value,"onUpdate:modelValue":t[0]||(t[0]=s=>j.value=s),filterable:"",class:"!w-[250px] mr-[20px] menu-select",teleported:!1,clearable:"",onChange:X},{default:o(()=>[(a(!0),v(N,null,M(l(Q),s=>(a(),L(F,{key:s.name,label:s.full_title,value:s.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),i(m,{type:"primary",link:"",onClick:t[1]||(t[1]=s=>b.value=!1)},{default:o(()=>[W(c(l(f)("取消")),1)]),_:1})])]),_:1},8,["visible"])]),e("i",{class:"iconfont iconicon_huojian1 cursor-pointer px-[8px]",title:l(f)("visitWap"),onClick:oe},null,8,Ze),l(A)=="site"?(a(),v("i",{key:0,class:"iconfont iconlingdang-xianxing cursor-pointer px-[8px]",title:l(f)("newInfo")},null,8,Ge)):ue("",!0),e("div",Je,[i(Le)]),e("div",Ke,[i(We)])])]),_:1})]),_:1}),q(e("input",{type:"hidden","onUpdate:modelValue":t[3]||(t[3]=s=>y.value=s)},null,512),[[z,y.value]]),q(e("input",{type:"hidden","onUpdate:modelValue":t[4]||(t[4]=s=>k.value=s)},null,512),[[z,k.value]]),i(ne,{modelValue:w.value,"onUpdate:modelValue":t[5]||(t[5]=s=>w.value=s),title:l(f)("layout.detectionLoginTip"),width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:o(()=>[e("span",Qe,[i(m,{onClick:Y},{default:o(()=>[W(c(l(f)("layout.detectionLoginOperation")),1)]),_:1})])]),default:o(()=>[e("span",null,c(l(f)("layout.detectionLoginContent")),1)]),_:1},8,["modelValue","title"])]),_:1},8,["class"])}}});const qt=Be(Xe,[["__scopeId","data-v-580e0a9e"]]);export{qt as default};
