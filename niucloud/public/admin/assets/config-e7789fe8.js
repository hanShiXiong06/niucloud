import{d as Q,y as W,f as G,r as b,n as H,l as Z,q as e,b2 as J,R as X,$ as U,h as p,c as u,a as r,e as t,w as l,u as a,b3 as Y,Z as C,s as h,t as i,C as w,i as v,_ as ee,F as oe,b4 as ae,a9 as te,L as le,M as ie,aD as de,aE as re,E as se,N as ne,a3 as pe}from"./index-28ce54e5.js";/* empty css                   *//* empty css                *//* empty css                  *//* empty css                       *//* empty css                 */import{_ as ue}from"./index.vue_vue_type_style_index_0_lang-f699b98f.js";import me from"./index-16133bab.js";import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                *//* empty css                   *//* empty css                       */import{g as _e,h as ce}from"./weapp-2d8047e5.js";import{_ as fe}from"./modify-domain.vue_vue_type_script_setup_true_lang-b21b1da3.js";import{_ as ve}from"./modify-privacy-agreement.vue_vue_type_script_setup_true_lang-3bb8c606.js";/* empty css                  *//* empty css                    *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-36d764c9.js";/* empty css                  *//* empty css                   */import"./attachment-6a2633f2.js";import"./index.vue_vue_type_script_setup_true_lang-101fc01a.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                        *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-e5b6971a.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-83b7ba07.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";import"./setting-list.vue_vue_type_script_setup_true_lang-67cec532.js";/* empty css                          */const ye={class:"main-container"},he={class:"panel-title !text-sm"},be={class:"form-tip"},we={class:"panel-title !text-sm"},ge={class:"form-tip"},ke={class:"form-tip"},xe={class:"panel-title !text-sm"},Ve={class:"input-width"},qe={class:"form-tip"},Pe={class:"form-tip"},Ue={class:"panel-title !text-sm"},Ce={class:"form-tip"},Ee={class:"form-tip"},Me={class:"form-tip"},Te={class:"form-tip"},ze={class:"form-tip"},Ae={class:"flex items-start justify-between"},Re={class:"panel-title !text-sm"},Se={key:0},De={key:1},$e={key:0},Ne={key:1},Fe={key:0},Be={key:1},Ke={key:0},Ie={key:1},Oe={key:0},je={key:1},Le={key:0},Qe={key:1},We={key:0},Ge={key:1},He={class:"flex items-start justify-between"},Ze={class:"panel-title !text-sm"},Je={class:"flex items-center"},Xe={class:"form-tip !mt-0"},Ye={class:"fixed-footer-wrap"},eo={class:"fixed-footer"},Qo=Q({__name:"config",setup(oo){const E=W(),M=G(),T=E.meta.title,z=()=>{M.push("/channel/weapp")},c=b(!0),o=H({weapp_name:"",weapp_original:"",app_id:"",app_secret:"",qr_code:"",token:"",encoding_aes_key:"",encryption_type:"not_encrypt",serve_url:"",request_url:"",socket_url:"",upload_url:"",download_url:"",upload_private_key:"",is_authorization:0,domain:{requestdomain:"",wsrequestdomain:"",uploaddomain:"",downloaddomain:"",tcpdomain:"",udpdomain:""}}),V=b(),A=Z(()=>({weapp_name:[{required:!0,message:e("weappNamePlaceholder"),trigger:"blur"}],weapp_original:[{required:!0,message:e("weappOriginalPlaceholder"),trigger:"blur"}],app_id:[{required:!0,message:e("appidPlaceholder"),trigger:"blur"}],app_secret:[{required:!o.is_authorization,message:e("appSecretPlaceholder"),trigger:"blur"}],token:[{required:!o.is_authorization,message:e("tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!o.is_authorization,message:e("encodingAesKeyPlaceholder"),trigger:"blur"}]}));_e().then(_=>{Object.assign(o,_.data),c.value=!1});const{copy:R,isSupported:S,copied:q}=J(),y=_=>{if(!S.value){U({message:e("notSupportCopy"),type:"warning"});return}R(_)};X(q,()=>{q.value&&U({message:e("copySuccess"),type:"success"})});const D=async _=>{c.value||!_||await _.validate(async d=>{d&&(c.value=!0,ce(o).then(()=>{c.value=!1}).catch(()=>{c.value=!1}))})},g=b(null),$=()=>{g.value.setFormData(o.domain),g.value.showDialog=!0},N=_=>{o.domain=_},P=b(null),F=()=>{P.value.setFormData()};return(_,d)=>{const B=ae,f=te,m=le,n=ie,K=me,I=ue,k=de,O=re,x=se,j=ne,L=pe;return p(),u(oe,null,[r("div",ye,[t(f,{class:"card !border-none",shadow:"never"},{default:l(()=>[t(B,{content:a(T),icon:a(Y),onBack:d[0]||(d[0]=s=>z())},null,8,["content","icon"])]),_:1}),C((p(),h(j,{class:"page-form mt-[15px]",model:o,"label-width":"170px",ref_key:"formRef",ref:V,rules:a(A)},{default:l(()=>[t(f,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[r("h3",he,i(a(e)("weappInfo")),1),t(n,{label:a(e)("weappName"),prop:"weapp_name"},{default:l(()=>[t(m,{modelValue:o.weapp_name,"onUpdate:modelValue":d[1]||(d[1]=s=>o.weapp_name=s),modelModifiers:{trim:!0},placeholder:a(e)("weappNamePlaceholder"),class:"input-width",clearable:"",readonly:o.is_authorization},null,8,["modelValue","placeholder","readonly"])]),_:1},8,["label"]),t(n,{label:a(e)("weappOriginal"),prop:"weapp_original"},{default:l(()=>[t(m,{modelValue:o.weapp_original,"onUpdate:modelValue":d[2]||(d[2]=s=>o.weapp_original=s),modelModifiers:{trim:!0},placeholder:a(e)("weappOriginalPlaceholder"),class:"input-width",clearable:"",readonly:o.is_authorization},null,8,["modelValue","placeholder","readonly"])]),_:1},8,["label"]),t(n,{label:a(e)("weappQrcode"),prop:"qr_code"},{default:l(()=>[t(K,{modelValue:o.qr_code,"onUpdate:modelValue":d[3]||(d[3]=s=>o.qr_code=s)},null,8,["modelValue"]),r("div",be,i(a(e)("weappQrcodeTips")),1)]),_:1},8,["label"])]),_:1}),t(f,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:l(()=>[r("h3",we,i(a(e)("weappDevelopInfo")),1),t(n,{label:a(e)("weappAppid"),prop:"app_id"},{default:l(()=>[t(m,{modelValue:o.app_id,"onUpdate:modelValue":d[4]||(d[4]=s=>o.app_id=s),modelModifiers:{trim:!0},placeholder:a(e)("appidPlaceholder"),class:"input-width",clearable:"",readonly:o.is_authorization},null,8,["modelValue","placeholder","readonly"]),r("div",ge,i(a(e)("weappAppidTips")),1)]),_:1},8,["label"]),o.is_authorization?w("",!0):(p(),h(n,{key:0,label:a(e)("weappAppsecret"),prop:"app_secret"},{default:l(()=>[t(m,{modelValue:o.app_secret,"onUpdate:modelValue":d[5]||(d[5]=s=>o.app_secret=s),modelModifiers:{trim:!0},placeholder:a(e)("appSecretPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),r("div",ke,i(a(e)("weappAppsecretTips")),1)]),_:1},8,["label"]))]),_:1}),o.is_authorization?w("",!0):(p(),h(f,{key:0,class:"box-card !border-none mt-[15px]",shadow:"never"},{default:l(()=>[r("h3",xe,i(a(e)("weappUpload")),1),t(n,{label:a(e)("uploadKey"),prop:"upload_private_key"},{default:l(()=>[r("div",Ve,[t(I,{modelValue:o.upload_private_key,"onUpdate:modelValue":d[6]||(d[6]=s=>o.upload_private_key=s),api:"sys/document/wechat"},null,8,["modelValue"])]),r("div",qe,i(a(e)("uploadKeyTips")),1),r("div",Pe,i(a(e)("uploadIpTips"))+i(o.upload_ip),1)]),_:1},8,["label"])]),_:1})),C(t(f,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:l(()=>[r("h3",Ue,i(a(e)("theServerSetting")),1),t(n,{label:"URL"},{default:l(()=>[t(m,{"model-value":o.serve_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:l(()=>[r("div",{class:"cursor-pointer",onClick:d[7]||(d[7]=s=>y(o.serve_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1}),t(n,{label:"Token",prop:"token"},{default:l(()=>[t(m,{modelValue:o.token,"onUpdate:modelValue":d[8]||(d[8]=s=>o.token=s),modelModifiers:{trim:!0},placeholder:a(e)("tokenPlaceholder"),class:"input-width",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),r("div",Ce,i(a(e)("tokenTips")),1)]),_:1}),t(n,{label:"EncodingAESKey",prop:"encoding_aes_key"},{default:l(()=>[t(m,{modelValue:o.encoding_aes_key,"onUpdate:modelValue":d[9]||(d[9]=s=>o.encoding_aes_key=s),modelModifiers:{trim:!0},placeholder:a(e)("encodingAesKeyPlaceholder"),class:"input-width",maxlength:"43","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),r("div",Ee,i(a(e)("encodingAESKeyTips")),1)]),_:1}),t(n,{label:a(e)("encryptionType"),prop:"encryption_type"},{default:l(()=>[t(O,{modelValue:o.encryption_type,"onUpdate:modelValue":d[10]||(d[10]=s=>o.encryption_type=s)},{default:l(()=>[t(k,{label:"not_encrypt"},{default:l(()=>[v(i(a(e)("cleartextMode")),1)]),_:1}),t(k,{label:"compatible"},{default:l(()=>[v(i(a(e)("compatibleMode")),1)]),_:1}),t(k,{label:"safe"},{default:l(()=>[v(i(a(e)("safeMode")),1)]),_:1})]),_:1},8,["modelValue"]),r("div",Me,i(a(e)("cleartextModeTips")),1),r("div",Te,i(a(e)("compatibleModeTips")),1),r("div",ze,i(a(e)("safeModeTips")),1)]),_:1},8,["label"])]),_:1},512),[[ee,!o.is_authorization]]),t(f,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:l(()=>[r("div",Ae,[r("h3",Re,i(a(e)("functionSetting")),1),o.is_authorization?(p(),h(x,{key:0,type:"primary",link:"",onClick:$},{default:l(()=>[v(i(a(e)("update")),1)]),_:1})):w("",!0)]),o.is_authorization?(p(),u("div",De,[t(n,{label:a(e)("requestUrl")},{default:l(()=>[o.domain.requestdomain?(p(),u("div",$e,i(o.domain.requestdomain),1)):(p(),u("div",Ne,"-"))]),_:1},8,["label"]),t(n,{label:a(e)("socketUrl")},{default:l(()=>[o.domain.wsrequestdomain?(p(),u("div",Fe,i(o.domain.wsrequestdomain),1)):(p(),u("div",Be,"-"))]),_:1},8,["label"]),t(n,{label:a(e)("uploadUrl")},{default:l(()=>[o.domain.uploaddomain?(p(),u("div",Ke,i(o.domain.uploaddomain),1)):(p(),u("div",Ie,"-"))]),_:1},8,["label"]),t(n,{label:a(e)("downloadUrl")},{default:l(()=>[o.domain.downloaddomain?(p(),u("div",Oe,i(o.domain.downloaddomain),1)):(p(),u("div",je,"-"))]),_:1},8,["label"]),t(n,{label:a(e)("udpUrl")},{default:l(()=>[o.domain.udpdomain?(p(),u("div",Le,i(o.domain.udpdomain),1)):(p(),u("div",Qe,"-"))]),_:1},8,["label"]),t(n,{label:a(e)("tcpUrl")},{default:l(()=>[o.domain.tcpdomain?(p(),u("div",We,i(o.domain.tcpdomain),1)):(p(),u("div",Ge,"-"))]),_:1},8,["label"])])):(p(),u("div",Se,[t(n,{label:a(e)("requestUrl")},{default:l(()=>[t(m,{"model-value":o.request_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:l(()=>[r("div",{class:"cursor-pointer",onClick:d[11]||(d[11]=s=>y(o.request_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),t(n,{label:a(e)("socketUrl")},{default:l(()=>[t(m,{"model-value":o.socket_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:l(()=>[r("div",{class:"cursor-pointer",onClick:d[12]||(d[12]=s=>y(o.socket_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),t(n,{label:a(e)("uploadUrl")},{default:l(()=>[t(m,{"model-value":o.upload_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:l(()=>[r("div",{class:"cursor-pointer",onClick:d[13]||(d[13]=s=>y(o.upload_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),t(n,{label:a(e)("downloadUrl")},{default:l(()=>[t(m,{"model-value":o.download_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:l(()=>[r("div",{class:"cursor-pointer",onClick:d[14]||(d[14]=s=>y(o.download_url))},i(a(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"])]))]),_:1}),o.is_authorization?(p(),h(f,{key:1,class:"box-card !border-none mt-[15px]",shadow:"never"},{default:l(()=>[r("div",He,[r("h3",Ze,i(a(e)("serviceContentStatement")),1)]),t(n,{label:a(e)("privacyAgreement")},{default:l(()=>[r("div",Je,[r("div",Xe,i(a(e)("privacyAgreementTips")),1),t(x,{type:"primary",link:"",onClick:F},{default:l(()=>[v(i(a(e)("setting")),1)]),_:1})])]),_:1},8,["label"])]),_:1})):w("",!0)]),_:1},8,["model","rules"])),[[L,c.value]]),r("div",Ye,[r("div",eo,[t(x,{type:"primary",loading:c.value,onClick:d[15]||(d[15]=s=>D(V.value))},{default:l(()=>[v(i(a(e)("save")),1)]),_:1},8,["loading"])])])]),t(fe,{ref_key:"modifyDomainRef",ref:g,onComplete:N},null,512),t(ve,{config:o,ref_key:"modifyPrivacyAgreementRef",ref:P},null,8,["config"])],64)}}});export{Qo as default};
