import{P as H,d as de,j as K,r as u,k as xe,n as ue,Q as _e,l as me,I as W,R as fe,c as l,a as e,u as i,e as p,w as r,t as x,C as g,x as ve,i as w,F as b,T as q,K as he,U as ge,V as ye,p as we,g as be,h as n,B as J,v as _,W as F,D as ke,X as Ce,Y as Ee,Z as L,_ as Q,G as Se,$ as N,a0 as Fe,L as Ie,a1 as Ve,E as Be,a2 as $e,M as De,N as Ae,a3 as je,s as Pe,a4 as ze}from"./index-0b74b7aa.js";/* empty css                   *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  *//* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                  *//* empty css                 *//* empty css                        */import{_ as Ue}from"./logo.default-551e66a4.js";import{_ as Le}from"./site_default-a8703942.js";import{g as Ne}from"./addon-d726d9ea.js";import{_ as He}from"./_plugin-vue_export-helper-c27b6911.js";const Me=""+new URL("site_empty-d23c6e2a.png",import.meta.url).href;function Ge(v){return H.get("home/site",{params:v})}function Te(){return H.get("home/site/group")}function Oe(v){return H.post("home/site/create",v)}const o=v=>(we("data-v-3b30699b"),v=v(),be(),v),Re={class:"bg-[#F7F9FA] min-h-screen"},Ke={class:"flex justify-between items-center py-[24px] pr-[64px] home-head"},We={key:0,class:"flex items-center w-[219px] justify-center"},qe={class:"max-w-[82px] h-[40px] overflow-hidden"},Je=o(()=>e("div",{class:"flex justify-center items-center w-full h-full"},[e("img",{class:"max-w-[70px]",src:Ue,alt:"","object-fit":"contain"})],-1)),Qe={class:"ml-[10px] max-w-[120px] text-[16px] font-bold truncate"},Xe={class:"flex items-center"},Ye=o(()=>e("span",{class:"iconfont iconguanliduan !text-primary mr-1"},null,-1)),Ze=o(()=>e("span",{class:"text-[14px] text-primary"},"控制台",-1)),et=[Ye,Ze],tt={class:"mr-[12px] text-[14px]"},st={class:"flex justify-between h-full"},ot={class:"text-[14px] whitespace-nowrap w-[220px] bg-white h-full border-r-[1px] border-[var(--el-border-color-light)]"},nt={class:"px-[20px] mt-[20px]"},lt=o(()=>e("div",{class:"mt-3 text-[#9699B6] mb-1"},"应用",-1)),at=o(()=>e("span",{class:"iconfont iconsuoyouyingyongc !text-[17px] mr-[10px]"},null,-1)),it=o(()=>e("span",null,"所有应用",-1)),pt=[at,it],rt=["onClick"],ct=["src"],dt={key:1,class:"iconfont iconsuoyouyingyongc !text-[17px] mr-[10px]"},xt={class:"px-[20px] mt-[20px]"},ut=o(()=>e("div",{class:"text-[#9699B6] mb-1"},"平台分类",-1)),_t=o(()=>e("span",{class:"iconfont iconH5c !text-[17px] mr-[10px]"},null,-1)),mt=o(()=>e("span",null,"H5",-1)),ft=[_t,mt],vt=o(()=>e("span",{class:"iconfont iconxiaochengxutongbuc !text-[17px] mr-[10px]"},null,-1)),ht=o(()=>e("span",null,"微信小程序",-1)),gt=[vt,ht],yt=o(()=>e("span",{class:"iconfont iconPCc !text-[17px] mr-[10px]"},null,-1)),wt=o(()=>e("span",null,"PC",-1)),bt=[yt,wt],kt=o(()=>e("span",{class:"iconfont iconAPPc !text-[17px] mr-[10px]"},null,-1)),Ct=o(()=>e("span",null,"APP",-1)),Et=[kt,Ct],St=o(()=>e("span",{class:"iconfont iconzhifubaoxiaochengxuc !text-[17px] mr-[10px]"},null,-1)),Ft=o(()=>e("span",null,"支付宝小程序",-1)),It=[St,Ft],Vt={class:"flex-1 h-full p-[20px] flex flex-col"},Bt={class:"flex-1 min-h-0"},$t={class:"flex justify-between items-center input-box"},Dt={class:"flex items-center text-[14px] cursor-pointer pr-[10px] h-[40px]"},At=o(()=>e("div",{class:"text-[#9699B6]"},"排序：",-1)),jt={class:"ml-[-20px]"},Pt={class:"flex flex-wrap mt-[30px]"},zt=["onClick"],Ut={class:"flex items-center px-[24px] pt-[22px] pb-[10px] home-item-head relative"},Lt=["src"],Nt={key:1,class:"w-[46px] h-[46px] mr-[15px] rounded-[6px] img-shadow overflow-hidden",src:Le},Ht={class:"flex flex-col flex-1 justify-center"},Mt={class:"flex items-center flex-wrap"},Gt={class:"text-[16px] text-[#000] max-w-[160px] truncate mr-[10px]"},Tt={key:0,class:"flex items-center justify-center min-w-[42px] h-[18px] bg-[#FF5500] rounded-tl-md rounded-br-md items-tab"},Ot={class:"text-[12px] text-[#000]"},Rt={class:"text-[12px] mt-[3px] text-[#666]"},Kt={class:"px-[24px] py-[20px] text-[#666]"},Wt={class:"text-[14px] mt-[2px] text-[var(--el-color-primary)]"},qt=o(()=>e("span",{class:"iconfont icona-Frame427322133 !text-[14px]"},null,-1)),Jt={key:0,class:"m-auto mt-[100px]"},Qt=o(()=>e("img",{src:Me,class:"w-[220px] h-[165px]"},null,-1)),Xt=o(()=>e("p",{class:"text-center text-gray-400 text-[14px] mt-[20px]"},"暂无站点",-1)),Yt=[Qt,Xt],Zt={class:"mt-[16px] flex justify-center pr-[10px]"},es={key:0,class:"flex justify-between text-[12px] mt-[20px] text-[#666]"},ts=["href"],ss={key:0,class:"mr-3"},os={key:0,href:"https://beian.miit.gov.cn/",target:"_blank"},ns={class:"mr-3"},ls=o(()=>e("span",{class:"mx-1"},"开发者联盟与隐私的声明",-1)),as=o(()=>e("span",{class:"mx-1"},"隐私政策",-1)),is=o(()=>e("span",{class:"mx-1"},"联系我们",-1)),ps=o(()=>e("span",{class:"mx-1"},"Cookies",-1)),rs={class:"dialog-footer"},cs=o(()=>e("div",{class:"text-[#333333] text-[22px] ml-[15px] leading-[1] mt-[10px]"},"创建站点",-1)),ds={class:"flex flex-col mx-[25px] h-[430px] mt-[15px]"},xs={class:"flex items-center"},us=o(()=>e("div",{class:"text-[18px] text-[#333333]"},"站点名称",-1)),_s={class:"w-[350px] h-[34px] ml-[10px]"},ms={class:"flex-1 mt-[20px] h-[160px]"},fs=o(()=>e("div",{class:"text-[18px] text-[#333333]"},"店铺套餐",-1)),vs={class:"w-full whitespace-nowrap"},hs=["onClick"],gs={class:"w-[140px] h-[40px] px-[15px] truncate text-white text-[16px] text-center leading-[40px] creatBg relative -left-[1px] -top-[2px]"},ys={class:"flex mx-[30px] mt-[14px] leading-[1] items-center w-full"},ws=o(()=>e("div",{class:"nc-iconfont nc-icon-duiV6mm text-[#466CEA]"},null,-1)),bs={class:"text-[14px] text-[#666666] ml-[3px] truncate"},ks={class:"flex mx-[30px] mt-[14px] leading-[1] text-center w-full"},Cs=o(()=>e("div",{class:"nc-iconfont nc-icon-duiV6mm text-[#466CEA]"},null,-1)),Es={class:"text-[14px] text-[#666666] ml-[3px] truncate"},Ss={class:"dialog-footer"},Fs=de({__name:"index",setup(v){const A=K(),I=u(!1),m=u(null);xe().then(({data:a})=>{m.value=a});const B=u(!1),X=()=>{m.value.copyright_desc&&(B.value=!0)},Y=u([{label:"创建时间",value:"create_time"},{label:"站点编号",value:"site_id"}]);u([{title:"H5",key:"H5"},{title:"微信小程序",key:"weapp"},{title:"PC",key:"pc"},{title:"APP",key:"app"},{title:"支付宝小程序",key:"aliapp"}]);const d=ue({params:{keywords:"",page:1,limit:20,app:"",sort:"create_time"},loading:!1,tableData:[],total:0}),{params:k,loading:M,tableData:G}=_e(d),f=(a=1)=>{d.params.page=a,d.loading=!0,Ge(d.params).then(s=>{d.tableData=s.data.data,d.total=s.data.total,d.loading=!1}).catch(()=>{d.loading=!1})};f();const T=a=>{d.params.app=a,f()},C=u(""),V=a=>{C.value=a,f()},j=me(()=>Se().website),Z=a=>{window.localStorage.setItem("site.siteId",a.site_id),window.localStorage.setItem("site.siteInfo",a),window.localStorage.setItem("site.comparisonSiteIdStorage",a.site_id),window.open(`${location.origin}/site/`)},ee=()=>{window.localStorage.getItem("admin.token")||(window.localStorage.setItem("admin.token",q()),window.localStorage.setItem("admin.comparisonTokenStorage",q())),window.localStorage.getItem("admin.userinfo")||window.localStorage.setItem("admin.userinfo",JSON.stringify(K().userInfo)),location.replace(location.origin+"/admin")},te=()=>{A.logout()},$=u([]);Ne().then(({data:a})=>{const s=[];Object.keys(a).forEach(z=>{const y=a[z];y.type=="app"&&s.push(y)}),$.value=s}).catch();const P=u(!0),D=u([]);Te().then(({data:a})=>{!W.empty(a)&&(D.value=a),P.value=!1}).catch(()=>{P.value=!1});const E=u(!1),se=()=>{if(!D.value.length){N("暂无店铺套餐");return}E.value=!0},c=u({step:1,loading:!1,formData:{group_id:0,site_name:""}}),oe=()=>{if(!c.value.formData.group_id){N({message:"请先选择店铺套餐",type:"error"});return}if(W.empty(c.value.formData.site_name)){N({message:"请输入站点名称",type:"error"});return}c.value.loading||(c.value.loading=!0,Oe(c.value.formData).then(()=>{c.value.loading=!1,E.value=!1,f()}).catch(()=>{c.value.loading=!1}))};return fe(()=>E.value,()=>{E.value||(c.value={step:1,loading:!1,formData:{group_id:0,site_name:""}})}),(a,s)=>{const z=he,y=ge,ne=Fe,O=Ie,le=ze,ae=Ve,U=Be,ie=$e,R=ye,pe=De,re=Ae,ce=je;return n(),l(b,null,[e("div",Re,[e("div",Ke,[i(j)?(n(),l("div",We,[e("div",qe,[p(z,{class:"h-[40px]",src:i(J)(i(j).icon),fit:"contain"},{error:r(()=>[Je]),_:1},8,["src"])]),e("span",Qe,x(i(j).site_name),1)])):g("",!0),e("div",Xe,[i(A).userInfo.is_super_admin?(n(),l("div",{key:0,class:"border-primary border-[1px] h-[30px] px-[15px] flex items-center rounded-[6px] mr-[10px] cursor-pointer",onClick:ee},et)):g("",!0),e("span",tt,x(i(A).userInfo.username),1),e("span",{onClick:s[0]||(s[0]=t=>te()),class:"text-[14px] cursor-pointer text-[var(--el-color-primary)]"},"退出")])]),e("div",{class:"w-full m-auto",style:ve({height:"calc(100vh - 80px)"})},[e("div",st,[e("div",ot,[p(y,{always:!0},{default:r(()=>[e("div",nt,[lt,e("div",null,[e("div",{class:_(["px-[25px] cursor-pointer h-[40px] leading-[40px]",{"bg-[#EAEBF0] rounded-[4px]":i(k).app==""}]),onClick:s[1]||(s[1]=t=>T(""))},pt,2),(n(!0),l(b,null,F(I.value?$.value:$.value.slice(0,4),(t,h)=>(n(),l("div",{class:_(["px-[25px] cursor-pointer h-[40px] leading-[40px] flex items-center",{"bg-[#EAEBF0] rounded-[4px]":i(k).app==t.key}]),onClick:S=>T(t.key),key:h},[t.icon?(n(),l("img",{key:0,src:t.icon,class:"w-[17px] h-[17px] mr-[10px] rounded-full"},null,8,ct)):(n(),l("span",dt)),e("span",null,x(t.title),1)],10,rt))),128))]),$.value.length>4?(n(),l("div",{key:0,class:"text-[#9699B6] text-[14px] cursor-pointer flex items-center mt-1",onClick:s[2]||(s[2]=t=>I.value=!I.value)},[e("span",{class:_(["iconfont iconjiantouxia ml-[4px] !text-[14px] mr-[10px] transition-transform duration-300",{"rotate-180":I.value}])},null,2),e("span",null,x(I.value?"收起":"更多"),1)])):g("",!0)]),e("div",xt,[ut,e("div",null,[e("div",{class:_(["px-[25px] cursor-pointer h-[40px] leading-[40px] flex items-center",{"bg-[#EAEBF0] rounded-[4px]":C.value=="h5"}]),onClick:s[3]||(s[3]=t=>V("h5"))},ft,2),e("div",{class:_(["px-[25px] cursor-pointer h-[40px] leading-[40px] flex items-center",{"bg-[#EAEBF0] rounded-[4px]":C.value=="wx"}]),onClick:s[4]||(s[4]=t=>V("wx"))},gt,2),e("div",{class:_(["px-[25px] cursor-pointer h-[40px] leading-[40px] flex items-center",{"bg-[#EAEBF0] rounded-[4px]":C.value=="pc"}]),onClick:s[5]||(s[5]=t=>V("pc"))},bt,2),e("div",{class:_(["px-[25px] cursor-pointer h-[40px] leading-[40px] flex items-center",{"bg-[#EAEBF0] rounded-[4px]":C.value=="app"}]),onClick:s[6]||(s[6]=t=>V("app"))},Et,2),e("div",{class:_(["px-[25px] cursor-pointer h-[40px] leading-[40px] flex items-center",{"bg-[#EAEBF0] rounded-[4px]":C.value=="zfb"}]),onClick:s[7]||(s[7]=t=>V("zfb"))},It,2)])])]),_:1})]),e("div",Vt,[e("div",Bt,[p(y,null,{default:r(()=>[e("div",$t,[p(O,{modelValue:i(k).keywords,"onUpdate:modelValue":s[9]||(s[9]=t=>i(k).keywords=t),modelModifiers:{trim:!0},class:"!w-[350px] !h-[40px]",placeholder:"请输入要搜索的站点名称/编号",onKeyup:s[10]||(s[10]=ke(t=>f(),["enter","native"]))},{suffix:r(()=>[p(ne,{onClick:s[8]||(s[8]=Ce(t=>f(),["stop"])),class:"cursor-pointer"},{default:r(()=>[p(i(Ee))]),_:1})]),_:1},8,["modelValue"]),e("div",Dt,[At,e("div",null,[p(ae,{modelValue:i(k).sort,"onUpdate:modelValue":s[11]||(s[11]=t=>i(k).sort=t),placeholder:"请选择",class:"!w-[200px] !h-[40px] !border-none",onChange:s[12]||(s[12]=t=>f())},{default:r(()=>[(n(!0),l(b,null,F(Y.value,t=>(n(),Pe(le,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),p(U,{type:"primary",class:"w-[90px] !h-[34px] ml-[20px]",disabled:P.value,onClick:se},{default:r(()=>[w("创建站点")]),_:1},8,["disabled"])])]),e("div",jt,[L((n(),l("div",Pt,[(n(!0),l(b,null,F(i(G),(t,h)=>(n(),l("div",{key:h,onClick:S=>Z(t),class:_(["home-item w-[313px] ml-[20px] box-border mb-[20px] border-[1px] border-[#E8E9EB] rounded-[6px] cursor-pointer"])},[e("div",Ut,[t.icon?(n(),l("img",{key:0,class:"w-[46px] h-[46px] mr-[15px] img-shadow rounded-[6px] overflow-hidden",src:i(J)(t.icon)},null,8,Lt)):(n(),l("img",Nt)),e("div",Ht,[e("div",Mt,[e("span",Gt,x(t.site_name),1),t.app_name?(n(),l("div",Tt,[e("span",Ot,x(t.app_name),1)])):g("",!0)]),e("span",Rt,"NO："+x(t.site_id),1)])]),e("div",Kt,[e("p",Wt,[qt,e("span",null,x(t.group_name||"--"),1)])])],8,zt))),128)),!i(G).length&&!i(M)?(n(),l("div",Jt,Yt)):g("",!0)])),[[ce,i(M)]])]),e("div",Zt,[p(ie,{"current-page":d.params.page,"onUpdate:current-page":s[13]||(s[13]=t=>d.params.page=t),"page-size":d.params.limit,"onUpdate:page-size":s[14]||(s[14]=t=>d.params.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:d.total,onSizeChange:s[15]||(s[15]=t=>f()),onCurrentChange:f,"hide-on-single-page":!0},null,8,["current-page","page-size","total"])])]),_:1})]),m.value?(n(),l("div",es,[e("div",null,[e("a",{href:m.value.copyright_link,target:"_blank"},[m.value.company_name?(n(),l("span",ss,x(m.value.company_name),1)):g("",!0)],8,ts),m.value.icp?(n(),l("a",os,[e("span",ns,x(m.value.icp),1)])):g("",!0)]),e("div",{class:"flex items-center cursor-pointer"},[e("span",{class:"mx-1",onClick:X},"版权信息"),w(" | "),ls,w(" | "),as,w(" | "),is,w(" | "),ps])])):g("",!0)])])],4)]),p(R,{modelValue:B.value,"onUpdate:modelValue":s[17]||(s[17]=t=>B.value=t),title:"版权信息",width:"500"},{footer:r(()=>[e("div",rs,[p(U,{type:"primary",onClick:s[16]||(s[16]=t=>B.value=!1)},{default:r(()=>[w("确定")]),_:1})])]),default:r(()=>[e("span",null,x(m.value.copyright_desc),1)]),_:1},8,["modelValue"]),p(R,{modelValue:E.value,"onUpdate:modelValue":s[19]||(s[19]=t=>E.value=t),width:"54vw","destroy-on-close":!0,style:{"border-radius":"25px"}},{title:r(()=>[cs]),footer:r(()=>[e("span",Ss,[p(U,{type:"primary",onClick:oe,class:"w-[118px] h-[44px] mt-[10px] text-[16px]"},{default:r(()=>[w("创建站点")]),_:1})])]),default:r(()=>[e("div",ds,[e("div",xs,[us,e("div",_s,[p(re,{model:c.value.formData,ref:"formRef"},{default:r(()=>[p(pe,{prop:"username"},{default:r(()=>[p(O,{class:"create-site-name",modelValue:c.value.formData.site_name,"onUpdate:modelValue":s[18]||(s[18]=t=>c.value.formData.site_name=t),modelModifiers:{trim:!0},maxlength:"20",placeholder:"请输入站点名称",autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),L(e("div",ms,[fs,p(y,{class:"w-full mt-[10px] meal-site -ml-[10px]",height:"350px"},{default:r(()=>[L(e("div",vs,[(n(!0),l(b,null,F(D.value,(t,h)=>(n(),l("div",{key:h,class:_(["inline-flex flex-col w-[300px] h-[330px] box-border rounded-[17px] border-transparent border-[2px] border-solid create-site-item my-[10px]",{"bg-[#F6F7FF] border-[#466CEA]":c.value.formData.group_id==t.group_id,"ml-[20px]":h>0," ml-[10px]":h==0,"mr-[10px]":D.value.length-1==h}]),onClick:S=>c.value.formData.group_id=t.group_id},[e("div",gs,x(t.site_group.group_name),1),p(y,{class:"flex pb-[20px] pt-[4px] box-border !h-[260px] w-[100%] scrollbarBox"},{default:r(()=>[(n(!0),l(b,null,F(t.site_group.app_name,S=>(n(),l("div",ys,[ws,e("div",bs,x(S),1)]))),256)),(n(!0),l(b,null,F(t.site_group.addon_name,S=>(n(),l("div",ks,[Cs,e("div",Es,x(S),1)]))),256))]),_:2},1024)],10,hs))),128))],512),[[Q,c.value.step==1]])]),_:1})],512),[[Q,c.value.step==1]])])]),_:1},8,["modelValue"])],64)}}});const qs=He(Fs,[["__scopeId","data-v-3b30699b"]]);export{qs as default};
