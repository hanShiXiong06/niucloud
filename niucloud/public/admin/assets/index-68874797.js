import{d as U,r as _,l as D,h as r,s as g,w as o,e as d,Z as K,c as x,a,F as M,W as $,t as f,C as V,u as q,q as A,ax as H,ac as W,ad as Z,ae as j,af as z,U as G,a9 as J,V as O,a3 as P,p as Q,g as R,$ as X}from"./index-28ce54e5.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                     *//* empty css                         *//* empty css                         */import{c as Y,a as ee}from"./module-01ad82d1.js";/* empty css                 *//* empty css                   */import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";const b=i=>(Q("data-v-67003996"),i=i(),R(),i),oe=b(()=>a("div",{class:"text-page-title mb-[20px]"},"历史版本",-1)),ae={class:"time-dialog h-[500px]",style:{overflow:"auto"}},se={class:"relative"},le={class:"text-[#333333] text-[14px] absolute"},ne=b(()=>a("br",null,null,-1)),re={class:"text-[#999999] text-[14px] w-[78px] block mt-[10px] absolute text-right"},ie={class:"text-[#333] text-[14px]"},pe={key:0,class:"px-[20px] py-[20px] bg-overlay timeline-log-wrap whitespace-pre-wrap rounded-[4px]",style:{background:"rgba(25, 103, 249, 0.03)"}},ce=["innerHTML"],_e=U({__name:"index",props:{upgradeKey:{type:String,required:!0}},setup(i,{expose:k}){const h=i,n=_([]);D(()=>n.value.length?n.value[0]:null);const E=()=>{Y({app_key:h.upgradeKey}).then(({data:t})=>{if(p.value=!1,t.forEach((e,s)=>{s==0?e.important=1:e.important=0}),n.value=t,n.value.length==0){X.warning("暂无版本更新信息");return}else c.value=!0})},L=()=>{ee().then(({data:t})=>{p.value=!1,t.forEach((e,s)=>{s==0?e.important=1:e.important=0}),n.value=t,c.value=!0})},u=_(0),p=_(!0),c=_(!1),C=async()=>{H(()=>{u.value=0,h.upgradeKey?E():L()})},y=t=>{const[e,s]=t.split(" "),[m,v]=s.split(":");return[e,`${m}:${v}`]};return k({open:C}),(t,e)=>{const s=W,m=Z,v=j,S=z,F=G,I=J,T=O,B=P;return r(),g(T,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=l=>c.value=l),title:q(A)("gxx"),width:"850","destroy-on-close":!0},{default:o(()=>[d(I,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[K((r(),x("div",null,[oe,a("div",ae,[d(F,null,{default:o(()=>[p.value?V("",!0):(r(),g(S,{key:0,style:{width:"100%"}},{default:o(()=>[(r(!0),x(M,null,$(n.value,(l,w)=>(r(),g(v,{key:w,placement:"left",color:t.color},{default:o(()=>[a("div",se,[a("span",le,f(y(l.release_time)[0]),1),ne,a("span",re,f(y(l.release_time)[1]),1)]),d(m,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=N=>u.value=N),accordion:""},{default:o(()=>[d(s,{name:w},{title:o(()=>[a("span",ie," v"+f(l.version_no),1)]),default:o(()=>[l.upgrade_log?(r(),x("div",pe,[a("div",{innerHTML:l.upgrade_log},null,8,ce)])):V("",!0)]),_:2},1032,["name"])]),_:2},1032,["modelValue"])]),_:2},1032,["color"]))),128))]),_:1}))]),_:1})])])),[[B,p.value]])]),_:1})]),_:1},8,["modelValue","title"])}}});const ke=te(_e,[["__scopeId","data-v-67003996"]]);export{ke as default};
