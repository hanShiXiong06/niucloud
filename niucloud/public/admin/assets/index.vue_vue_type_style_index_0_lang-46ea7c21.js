import{d as f,l as n,T as g,H as x,$ as u,q as p,h as y,s as V,w as i,b,e as v,u as s,bC as w,i as S,t as k,bn as $,L,bw as U}from"./index-0b74b7aa.js";/* empty css                  *//* empty css                    *//* empty css                 */const T=f({__name:"index",props:{modelValue:{type:String,default:""},api:{type:String,default:"sys/document/document"},accept:{type:String,default:".doc,.docx,.xml,.txt,.pem,.zip,.rar,.7z,.crt,.key,.xls,.xlsx"}},emits:["update:modelValue"],setup(r,{emit:c}){const o=r,a=n({get(){return o.modelValue},set(e){c("update:modelValue",e)}}),m=n(()=>{const e={};return e.token=g(),e["site-id"]=x.get("siteId")||0,{action:`${"/adminapi/".substr(-1)=="/"?"/adminapi/":"/adminapi//"}${o.api}`,showFileList:!1,accept:o.accept,headers:e,onSuccess:(t,d)=>{if(t.code!=null&&t.code!=1){u({message:t.msg,type:"error"});return}a.value=t.data.url,u({message:p("upload.success"),type:"success"})}}});return(e,l)=>{const t=L,d=U;return y(),V(d,$(s(m),{class:"w-full upload-file"}),{default:i(()=>[b(e.$slots,"default",{},()=>[v(t,{modelValue:s(a),"onUpdate:modelValue":l[0]||(l[0]=_=>w(a)?a.value=_:null),class:"w-full",readonly:!0,title:s(a)},{append:i(()=>[S(k(s(p)("upload.root")),1)]),_:1},8,["modelValue","title"])])]),_:3},16)}}});export{T as _};
