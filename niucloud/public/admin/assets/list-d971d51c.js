import{d as A,y as $,n as j,r as D,bS as L,f as M,h as m,c as h,e as l,w as r,a as _,t as n,u as a,i as d,q as t,Z as R,s as b,C as f,bT as U,ah as I,E as q,L as Z,M as G,N as H,a9 as J,aj as K,as as O,ak as Q,a2 as W,a3 as X}from"./index-0b74b7aa.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{b as Y,d as ee}from"./shop_address-74a01aff.js";const te={class:"main-container"},ae={class:"flex justify-between items-center"},le={class:"text-page-title"},oe={class:"mt-[10px]"},se={key:0},re={key:1},ne={class:"mt-[16px] flex justify-end"},Ve=A({__name:"list",setup(ie){const E=$().meta.title,e=j({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{mobile:"",full_address:""}}),y=D(),p=(i=1)=>{e.loading=!0,e.page=i,Y({page:e.page,limit:e.limit,...e.searchParam}).then(s=>{e.loading=!1,e.data=s.data.data,e.total=s.data.total,U(e.page,e.limit,e.searchParam)}).catch(()=>{e.loading=!1})};p(L(e.searchParam).page);const v=M(),w=()=>{console.log(11),v.push("/recycle/address/edit")},P=i=>{v.push("/recycle/address/edit?id="+i.id)},T=i=>{I.confirm(t("shopAddressDeleteTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{ee(i).then(()=>{p()}).catch(()=>{})})},V=i=>{i&&(i.resetFields(),p())};return(i,s)=>{const c=q,k=Z,g=G,z=H,x=J,u=K,C=O,B=Q,S=W,F=X;return m(),h("div",te,[l(x,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[_("div",ae,[_("span",le,n(a(E)),1),l(c,{type:"primary",onClick:w},{default:r(()=>[d(n(a(t)("添加商家地址")),1)]),_:1})]),l(x,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[l(z,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:y},{default:r(()=>[l(g,{label:a(t)("手机号"),prop:"mobile"},{default:r(()=>[l(k,{modelValue:e.searchParam.mobile,"onUpdate:modelValue":s[0]||(s[0]=o=>e.searchParam.mobile=o),modelModifiers:{trim:!0},placeholder:a(t)("请输入手机号")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(g,{label:a(t)("地址"),prop:"full_address"},{default:r(()=>[l(k,{modelValue:e.searchParam.full_address,"onUpdate:modelValue":s[1]||(s[1]=o=>e.searchParam.full_address=o),modelModifiers:{trim:!0},placeholder:a(t)("请输入地址")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(g,null,{default:r(()=>[l(c,{type:"primary",onClick:s[2]||(s[2]=o=>p())},{default:r(()=>[d(n(a(t)("search")),1)]),_:1}),l(c,{onClick:s[3]||(s[3]=o=>V(y.value))},{default:r(()=>[d(n(a(t)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),_("div",oe,[R((m(),b(B,{data:e.data,size:"large"},{empty:r(()=>[_("span",null,n(e.loading?"":a(t)("emptyData")),1)]),default:r(()=>[l(u,{prop:"contact_name",label:a(t)("联系人"),"min-width":"120"},null,8,["label"]),l(u,{prop:"mobile",label:a(t)("手机号"),"min-width":"120"},null,8,["label"]),l(u,{prop:"full_address",label:a(t)("地址"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),l(u,{prop:"is_delivery_address",label:a(t)("addressType"),"min-width":"120",align:"left"},{default:r(({row:o})=>[o.is_delivery_address?(m(),h("div",se,[d(n(a(t)("发货地址"))+" ",1),o.is_default_delivery?(m(),b(C,{key:0,size:"small"},{default:r(()=>[d(n(a(t)("默认")),1)]),_:1})):f("",!0)])):f("",!0),o.is_refund_address?(m(),h("div",re,[d(n(a(t)("退货地址"))+" ",1),o.is_default_refund?(m(),b(C,{key:0,size:"small"},{default:r(()=>[d(n(a(t)("默认")),1)]),_:1})):f("",!0)])):f("",!0)]),_:1},8,["label"]),l(u,{label:a(t)("操作"),fixed:"right","min-width":"120",align:"right"},{default:r(({row:o})=>[l(c,{type:"primary",link:"",onClick:N=>P(o)},{default:r(()=>[d(n(a(t)("编辑")),1)]),_:2},1032,["onClick"]),l(c,{type:"primary",link:"",onClick:N=>T(o.id)},{default:r(()=>[d(n(a(t)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[F,e.loading]]),_("div",ne,[l(S,{"current-page":e.page,"onUpdate:current-page":s[4]||(s[4]=o=>e.page=o),"page-size":e.limit,"onUpdate:page-size":s[5]||(s[5]=o=>e.limit=o),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:s[6]||(s[6]=o=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Ve as default};
