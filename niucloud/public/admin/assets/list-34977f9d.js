import{P as H,d as I,y as R,n as $,r as _,h as f,c as D,e as t,w as n,a as u,t as s,u as l,q as r,F as q,W as A,s as V,i as m,Z as O,L as W,M as Z,a4 as G,a1 as J,bV as K,E as Q,N as X,a9 as ee,aj as ae,as as te,ak as le,a2 as oe,a3 as re}from"./index-9cfed1fc.js";/* empty css                   */import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang-16e58e5b.js";/* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                *//* empty css                  *//* empty css                       */import"./el-form-item-4ed993c7.js";/* empty css                  *//* empty css                   */function se(h){return H.get("recycle/device_export/list",{params:h})}const ie={class:"main-container"},de={class:"flex justify-between items-center"},me={class:"text-page-title"},pe={class:"mt-[10px]"},ce={class:"mt-[16px] flex justify-end"},Be=I({__name:"list",setup(h){const E=R().meta.title,e=$({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{imei:"",model:"",category_id:"",update_at:[],status:5}}),v=_(),k=_([{id:1,name:"手机"},{id:2,name:"平板"},{id:3,name:"笔记本"},{id:4,name:"手表"},{id:5,name:"其他"}]),C=i=>{i&&(i.resetFields(),p())},p=()=>{e.loading=!0;const i={...e.searchParam,page:e.page,limit:e.limit};se(i).then(o=>{e.loading=!1,e.data=o.data.data,e.total=o.data.total}).catch(()=>{e.loading=!1})},Y=_(null),g=_(!1),M=i=>{g.value=i},F=()=>{g.value=!0};return p(),(i,o)=>{const y=W,c=Z,w=G,z=J,L=K,b=Q,U=X,x=ee,d=ae,B=te,N=le,S=oe,T=ne,j=re;return f(),D("div",ie,[t(x,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[u("div",de,[u("span",me,s(l(E)),1)]),t(x,{class:"box-card !border-none my-[20px] table-search-wrap",shadow:"never"},{default:n(()=>[t(U,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:v},{default:n(()=>[t(c,{label:l(r)("imei"),prop:"imei"},{default:n(()=>[t(y,{modelValue:e.searchParam.imei,"onUpdate:modelValue":o[0]||(o[0]=a=>e.searchParam.imei=a),modelModifiers:{trim:!0},class:"!w-[200px]",placeholder:l(r)("请输入IMEI")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(c,{label:l(r)("型号名称"),prop:"model"},{default:n(()=>[t(y,{modelValue:e.searchParam.model,"onUpdate:modelValue":o[1]||(o[1]=a=>e.searchParam.model=a),modelModifiers:{trim:!0},class:"!w-[200px]",placeholder:l(r)("请输入型号名称")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(c,{label:l(r)("分类"),prop:"category_id"},{default:n(()=>[t(z,{modelValue:e.searchParam.category_id,"onUpdate:modelValue":o[2]||(o[2]=a=>e.searchParam.category_id=a),clearable:"",placeholder:l(r)("请选择分类"),class:"input-width"},{default:n(()=>[t(w,{label:l(r)("请选择分类"),value:""},null,8,["label"]),(f(!0),D(q,null,A(k.value,a=>(f(),V(w,{label:a.name,value:a.id,key:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),t(c,{label:l(r)("回收时间"),prop:"update_at"},{default:n(()=>[t(L,{modelValue:e.searchParam.update_at,"onUpdate:modelValue":o[3]||(o[3]=a=>e.searchParam.update_at=a),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":l(r)("startDate"),"end-placeholder":l(r)("endDate"),format:"YYYY-MM-DD HH:mm","date-format":"YYYY/MM/DD ddd","time-format":"A hh:mm"},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),t(c,null,{default:n(()=>[t(b,{type:"primary",onClick:o[4]||(o[4]=a=>p())},{default:n(()=>[m(s(l(r)("search")),1)]),_:1}),t(b,{onClick:o[5]||(o[5]=a=>C(v.value))},{default:n(()=>[m(s(l(r)("reset")),1)]),_:1}),t(b,{type:"primary",onClick:F,disabled:e.total===0},{default:n(()=>[m(s(l(r)("export")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])]),_:1}),u("div",pe,[O((f(),V(N,{data:e.data,size:"large"},{empty:n(()=>[u("span",null,s(e.loading?"":l(r)("emptyData")),1)]),default:n(()=>[t(d,{prop:"imei",label:l(r)("imei"),"min-width":"120"},null,8,["label"]),t(d,{prop:"model",label:l(r)("型号"),"min-width":"150","show-overflow-tooltip":""},null,8,["label"]),t(d,{prop:"category_name",label:l(r)("分类"),"min-width":"100",align:"center"},null,8,["label"]),t(d,{prop:"final_price",label:l(r)("定价"),"min-width":"100",align:"right"},{default:n(({row:a})=>[m(" ¥"+s(a.final_price||"0.00"),1)]),_:1},8,["label"]),t(d,{prop:"status_name",label:l(r)("status"),"min-width":"100",align:"center"},{default:n(({row:a})=>[t(B,{type:"success"},{default:n(()=>[m(s(a.status_name),1)]),_:2},1024)]),_:1},8,["label"]),t(d,{label:l(r)("回收时间"),"min-width":"150",align:"center"},{default:n(({row:a})=>[m(s(a.update_at||""),1)]),_:1},8,["label"]),t(d,{label:l(r)("订单编号"),"min-width":"180","show-overflow-tooltip":""},{default:n(({row:a})=>{var P;return[m(s(((P=a.order)==null?void 0:P.order_no)||""),1)]}),_:1},8,["label"])]),_:1},8,["data"])),[[j,e.loading]]),u("div",ce,[t(S,{"current-page":e.page,"onUpdate:current-page":o[6]||(o[6]=a=>e.page=a),"page-size":e.limit,"onUpdate:page-size":o[7]||(o[7]=a=>e.limit=a),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:o[8]||(o[8]=a=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])]),t(T,{ref_key:"exportSureDialog",ref:Y,show:g.value,type:"recycle_device",searchParam:e.searchParam,onClose:M},null,8,["show","searchParam"])]),_:1})])}}});export{Be as default};
