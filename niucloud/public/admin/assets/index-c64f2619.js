import{d as ae,H as d,dx as re,G as ce,dk as pe,r as _,j as ue,l as W,aZ as de,h as r,s as g,w as n,e as i,a as t,u as s,c as b,W as P,F as q,t as c,v as z,i as D,q as f,C as me,Z as A,bk as H,dm as _e,b0 as fe,bt as he,bu as xe,bv as ve,a1 as ge,E as be,a8 as we,b1 as ye,V as ke,A as Se,p as Ce,g as Ee,y as Ie,f as Ve,dn as Re,a4 as Te}from"./index-6a69b8ba.js";/* empty css                  *//* empty css                   *//* empty css               *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                         *//* empty css                           */import{_ as Le}from"./index.vue_vue_type_script_setup_true_lang-44397317.js";import We from"./layout-setting-e1126b85.js";import De from"./user-info-3f1966de.js";import{_ as Be}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                        *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import"./member_head-d9fd7b2c.js";import"./personal-0a62fbf0.js";import"./index.vue_vue_type_script_setup_true_lang-389352cd.js";import"./index-04d3919b.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-aa9102df.js";import"./attachment-0a0b2350.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-f5ea135f.js";/* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                    */import"./index.vue_vue_type_script_setup_true_lang-c02a754c.js";import"./sortable.esm-be94e56d.js";/* empty css                        */const $e=w=>(Ce("data-v-c179f603"),w=w(),Ee(),w),Me={class:"left-panel h-full flex items-center"},Fe={class:"flex items-center h-full pl-[10px]"},Ue={class:"right-panel h-full flex items-center justify-end"},je={class:"flex items-center flex-shrink-0 hidden-xs-only"},Ne={class:"mx-[8px] bg-[#f6f6f6] border-[1px] border-solid border-[#eee] rounded-[4px] px-[9px] py-[6px] flex items-center"},Pe={class:"mr-[6px] text-[12px] !text-[#333]"},qe={class:"text-[14px]"},ze={key:0,class:"text-[14px]"},Ae={key:1,class:"text-[14px]"},He={class:"flex items-center flex-shrink-0 hidden-xs-only"},Oe=$e(()=>t("i",{class:"iconfont icona-sousuoV6xx-36 cursor-pointer px-[8px] !text-[14px]"},null,-1)),Ze={class:"flex items-center"},Ge=["title"],Je=["title"],Ke={class:"navbar-item flex items-center h-full cursor-pointer"},Qe={class:"navbar-item flex items-center h-full cursor-pointer"},Xe={class:"dialog-footer"},Ye=ae({__name:"index",setup(w){const O=d.get("app_type");re();const h=ce(),B=pe(),Z=Ie(),$=Ve(),M=_(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth),F=ue(),p=W(()=>F.siteInfo),G=W(()=>h.dark),y=_(!1),J=F.routers,K=e=>{let o=[],a=e==null?void 0:e.parent_route;for(;a;)a.short_title&&o.unshift(a.short_title),a=a.parent_route;return o.join(" - ")},U=(e,o=null)=>{let a=[];return e.forEach(E=>{const{path:V,name:I,meta:u={},short_title:R,children:x}=E;if(u.type==1&&u.show==1){const v=u.title||R||"",m=K(u),T=m?`${m} - ${v}`:v,L={path:V,name:I,title:v,parent_title:m,full_title:T};a.push(L)}x&&x.length>0&&(a=a.concat(U(x,E)))}),a},Q=U(J),j=_(""),X=e=>{e&&($.push({name:e}),y.value=!1)},k=_(!1),S=_(""),C=_("");d.get("comparisonTokenStorage")&&(S.value=d.get("comparisonTokenStorage")),d.get("comparisonSiteIdStorage")&&(C.value=d.get("comparisonSiteIdStorage")),document.addEventListener("visibilitychange",e=>{document.visibilityState==="visible"&&(C.value!=d.get("siteId")||S.value!=d.get("token"))&&(k.value=!0)});const Y=()=>{k.value=!1,location.href=`${location.origin}/site/`};de(()=>{window.onresize=()=>(()=>{M.value=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})()});const ee=()=>{h.$patch(e=>{M.value<768?(e.menuDrawer=!0,e.menuIsCollapse=!1):h.toggleMenuCollapse(!h.menuIsCollapse)})},te=()=>{B.routeRefreshTag&&B.refreshRouterView()},oe=W(()=>{const e=Z.matched.filter(o=>o.meta.title);return e[0]&&e[0].path=="/"&&e.splice(0,1),e}),ne=()=>{const e=$.resolve({path:"/preview/wap",query:{page:"/"}});window.open(e.href)};return(e,o)=>{const a=Le,E=Re,V=_e,I=fe,u=he,R=xe,x=ve,N=Te,v=ge,m=be,T=we,L=ye,se=ke,le=Se;return r(),g(le,{class:z(["h-full px-[10px]",{"layout-header border-b border-color":!s(G)}])},{default:n(()=>[i(L,{class:"w-100 h-full w-full"},{default:n(()=>[i(I,{span:10},{default:n(()=>[t("div",Me,[t("div",{class:"hidden-sm-and-up navbar-item flex items-center h-full cursor-pointer",onClick:ee},[s(h).menuIsCollapse?(r(),g(a,{key:0,name:"element Expand"})):(r(),g(a,{key:1,name:"element Fold"}))]),t("div",{class:"navbar-item flex items-center h-full cursor-pointer",onClick:te},[i(a,{name:"element Refresh"})]),t("div",Fe,[i(V,{separator:"/"},{default:n(()=>[(r(!0),b(q,null,P(s(oe),(l,ie)=>(r(),g(E,{key:ie,to:l.path,class:"inter"},{default:n(()=>[D(c(l.meta.title),1)]),_:2},1032,["to"]))),128))]),_:1})])])]),_:1}),i(I,{span:14},{default:n(()=>[t("div",Ue,[t("div",je,[i(x,{trigger:"hover","hide-on-click":!1,"popper-class":"site-info-wrap",class:"mr-[8px]"},{dropdown:n(()=>[i(R,null,{default:n(()=>[i(u,null,{default:n(()=>[t("div",qe,"站点编号："+c(s(p).site_id),1)]),_:1}),i(u,null,{default:n(()=>[s(p).expire_time==0?(r(),b("div",ze,"到期时间：永久")):(r(),b("div",Ae,"到期时间："+c(s(p).expire_time),1))]),_:1})]),_:1})]),default:n(()=>[t("div",Ne,[t("span",Pe,c(s(p).site_name),1),t("span",{class:z(["!text-[10px] text-[#f56c6c]",{"!text-[#67c23a]":s(p).status==1,"!text-[#f56c6c]":s(p).status==3}])},c(s(p).status_name),3)])]),_:1})]),t("div",He,[i(T,{placement:"bottom",width:330,trigger:"click",visible:y.value,"onUpdate:visible":o[2]||(o[2]=l=>y.value=l)},{reference:n(()=>[Oe]),default:n(()=>[t("div",Ze,[i(v,{modelValue:j.value,"onUpdate:modelValue":o[0]||(o[0]=l=>j.value=l),filterable:"",class:"!w-[250px] mr-[20px] menu-select",teleported:!1,clearable:"",onChange:X},{default:n(()=>[(r(!0),b(q,null,P(s(Q),l=>(r(),g(N,{key:l.name,label:l.full_title,value:l.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),i(m,{type:"primary",link:"",onClick:o[1]||(o[1]=l=>y.value=!1)},{default:n(()=>[D(c(s(f)("取消")),1)]),_:1})])]),_:1},8,["visible"])]),t("i",{class:"iconfont iconicon_huojian1 cursor-pointer px-[8px]",title:s(f)("visitWap"),onClick:ne},null,8,Ge),s(O)=="site"?(r(),b("i",{key:0,class:"iconfont iconlingdang-xianxing cursor-pointer px-[8px]",title:s(f)("newInfo")},null,8,Je)):me("",!0),t("div",Ke,[i(We)]),t("div",Qe,[i(De)])])]),_:1})]),_:1}),A(t("input",{type:"hidden","onUpdate:modelValue":o[3]||(o[3]=l=>S.value=l)},null,512),[[H,S.value]]),A(t("input",{type:"hidden","onUpdate:modelValue":o[4]||(o[4]=l=>C.value=l)},null,512),[[H,C.value]]),i(se,{modelValue:k.value,"onUpdate:modelValue":o[5]||(o[5]=l=>k.value=l),title:s(f)("layout.detectionLoginTip"),width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:n(()=>[t("span",Xe,[i(m,{onClick:Y},{default:n(()=>[D(c(s(f)("layout.detectionLoginOperation")),1)]),_:1})])]),default:n(()=>[t("span",null,c(s(f)("layout.detectionLoginContent")),1)]),_:1},8,["modelValue","title"])]),_:1},8,["class"])}}});const qt=Be(Ye,[["__scopeId","data-v-c179f603"]]);export{qt as default};
