import{d as h,r as m,n as y,l as w,R as i,h as E,s as N,w as d,e as u,a as r,aF as R,L as j,M as k,N as B}from"./index-6a69b8ba.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                    */const C=r("span",{class:"ml-[10px] el-form-item__label"},"送",-1),F={class:"w-[70px]"},O=r("span",{class:"ml-[15px] el-form-item__label"},"积分",-1),D=h({__name:"gift-point",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(p,{expose:_,emit:f}){const c=p,l=m({is_use:0,num:""}),n=m(null),v={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/,special:/^\d{0,10}(.?\d{0,3})$/},b=y({num:[{validator:(s,e,t)=>{l.value.is_use?e.length==0?t("请输入积分数量"):isNaN(e)||!v.number.test(e)?t("积分数量格式错误"):e<=0?t("积分数量不能小于等于0"):t():t()},trigger:"blur"}]}),o=w({get(){return c.modelValue},set(s){f("update:modelValue",s)}});return i(()=>o.value,(s,e)=>{(!e||!Object.keys(e).length)&&Object.keys(s).length&&(l.value=o.value)},{immediate:!0}),i(()=>l.value,()=>{o.value=l.value},{deep:!0}),_({verify:async()=>{var e;let s=!0;return await((e=n.value)==null?void 0:e.validate(t=>{s=t})),s}}),(s,e)=>{const t=R,V=j,g=k,x=B;return E(),N(x,{ref_key:"formRef",ref:n,model:l.value,rules:b},{default:d(()=>[u(g,{label:"",prop:"num"},{default:d(()=>[u(t,{modelValue:l.value.is_use,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.is_use=a),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),C,r("div",F,[u(V,{modelValue:l.value.num,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.num=a),modelModifiers:{trim:!0},clearable:"",disabled:l.value.is_use==0},null,8,["modelValue","disabled"])]),O]),_:1})]),_:1},8,["model","rules"])}}});export{D as default};
