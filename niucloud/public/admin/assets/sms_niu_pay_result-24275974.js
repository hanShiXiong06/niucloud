import{d as B,f as E,y as C,r as h,aZ as N,cF as q,h as s,c as I,e as r,w as a,u as n,b3 as R,s as _,i as y,t as b,q as k,b4 as S,a9 as $,E as H,bi as P}from"./index-28ce54e5.js";/* empty css                  *//* empty css                  *//* empty css                *//* empty css                   *//* empty css                       */import{H as V}from"./notice-204db72e.js";const D={class:"main-container"},A=B({__name:"sms_niu_pay_result",setup(F){const v=E(),c=C(),x=c.meta.title,g=c.query.username||"",l=()=>{v.push("/setting/niusms/setting")},u=h("wait");let o=null;N(()=>{const t=c.query.out_trade_no;t&&(d(t),o=setInterval(()=>{d(t)},2e3))}),q(()=>{o&&clearInterval(o)});const d=async t=>{try{const e=await V(g,{out_trade_no:t});u.value=e.data.order_status,(e.data.order_status==="payment"||e.data.order_status==="close")&&o&&clearInterval(o)}catch(e){console.error("获取支付状态失败",e)}};return(t,e)=>{const w=S,m=$,p=H,i=P;return s(),I("div",D,[r(m,{class:"box-card !border-none mb-[15px]",shadow:"never"},{default:a(()=>[r(w,{content:n(x),icon:n(R),onBack:e[0]||(e[0]=f=>l())},null,8,["content","icon"])]),_:1}),r(m,{class:"box-card !border-none mb-[15px]",shadow:"never"},{default:a(()=>[u.value==="payment"?(s(),_(i,{key:0,icon:"success",title:"支付成功"},{extra:a(()=>[r(p,{type:"primary",onClick:e[1]||(e[1]=f=>l())},{default:a(()=>[y(b(n(k)("back")),1)]),_:1})]),_:1})):u.value==="close"?(s(),_(i,{key:1,icon:"error",title:"订单已关闭"},{extra:a(()=>[r(p,{type:"primary",onClick:e[2]||(e[2]=f=>l())},{default:a(()=>[y(b(n(k)("back")),1)]),_:1})]),_:1})):(s(),_(i,{key:2,icon:"info",title:"支付状态查询中","sub-title":"请稍候，正在确认支付状态..."}))]),_:1})])}}});export{A as default};
