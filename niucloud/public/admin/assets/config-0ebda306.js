import{d as K,y as M,f as T,r as y,n as R,b2 as $,R as D,$ as v,q as e,h,c as I,e as a,w as s,u as l,b3 as L,Z as O,s as W,a as r,t as p,i as g,b4 as F,a9 as Q,L as j,M as H,N as Z,E as z,a3 as G}from"./index-9cfed1fc.js";/* empty css                   *//* empty css                  *//* empty css                */import{_ as J}from"./index.vue_vue_type_style_index_0_lang-98cd6f48.js";import X from"./index-a4ad10ba.js";import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                *//* empty css                   *//* empty css                       */import{g as Y,a as ee,s as ae}from"./aliapp-c2433440.js";/* empty css                  *//* empty css                    *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-fad85f8a.js";/* empty css                  *//* empty css                   */import"./attachment-4de82df9.js";import"./index.vue_vue_type_script_setup_true_lang-c04cd2bb.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                        *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-218b436b.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-e50d9a7c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const le={class:"main-container"},te={class:"panel-title !text-sm"},oe={class:"form-tip"},ie={class:"panel-title !text-sm"},se={class:"input-width"},re={class:"form-tip"},pe={class:"input-width"},ne={class:"form-tip"},de={class:"input-width"},ue={class:"form-tip"},me={class:"panel-title !text-sm"},ce={class:"panel-title !text-sm"},_e={class:"fixed-footer-wrap"},fe={class:"fixed-footer"},ea=K({__name:"config",setup(be){const w=M(),V=T(),k=w.meta.title,x=()=>{V.push("/channel/aliapp")},u=y(!0),o=R({name:"",qrcode:"",private_key:"",app_id:"",aes_key:"",public_key_crt:"",alipay_public_key_crt:"",alipay_with_crt:"",request_url:""}),f=y();Y().then(d=>{Object.assign(o,d.data),u.value=!1}),ee().then(d=>{o.request_url=d.data.domain});const{copy:C,isSupported:E,copied:b}=$(),S=d=>{if(!E.value){v({message:e("notSupportCopy"),type:"warning"});return}C(d)};D(b,()=>{b.value&&v({message:e("copySuccess"),type:"success"})});const q=async d=>{u.value||!d||await d.validate(async t=>{t&&(u.value=!0,ae(o).then(()=>{u.value=!1}).catch(()=>{u.value=!1}))})};return(d,t)=>{const U=F,m=Q,c=j,n=H,N=X,_=J,P=Z,A=z,B=G;return h(),I("div",le,[a(m,{class:"card !border-none",shadow:"never"},{default:s(()=>[a(U,{content:l(k),icon:l(L),onBack:t[0]||(t[0]=i=>x())},null,8,["content","icon"])]),_:1}),O((h(),W(P,{class:"page-form mt-[15px]",model:o,"label-width":"150px",ref_key:"formRef",ref:f},{default:s(()=>[a(m,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[r("h3",te,p(l(e)("aliappSet")),1),a(n,{label:l(e)("aliappName")},{default:s(()=>[a(c,{modelValue:o.name,"onUpdate:modelValue":t[1]||(t[1]=i=>o.name=i),modelModifiers:{trim:!0},placeholder:l(e)("aliappNamePlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,{label:l(e)("aliappQrcode")},{default:s(()=>[a(N,{modelValue:o.qrcode,"onUpdate:modelValue":t[2]||(t[2]=i=>o.qrcode=i)},null,8,["modelValue"]),r("div",oe,p(l(e)("aliappQrcodeTips")),1)]),_:1},8,["label"])]),_:1}),a(m,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:s(()=>[r("h3",ie,p(l(e)("aliappDevelopInfo")),1),a(n,{label:l(e)("aliappOriginal")},{default:s(()=>[a(c,{modelValue:o.private_key,"onUpdate:modelValue":t[3]||(t[3]=i=>o.private_key=i),modelModifiers:{trim:!0},placeholder:l(e)("aliappOriginalPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,{label:l(e)("aliappAppid")},{default:s(()=>[a(c,{modelValue:o.app_id,"onUpdate:modelValue":t[4]||(t[4]=i=>o.app_id=i),modelModifiers:{trim:!0},placeholder:l(e)("appidPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,{label:l(e)("countersignType")},{default:s(()=>[g(p(l(e)("certificate")),1)]),_:1},8,["label"]),a(n,{label:l(e)("publicKey")},{default:s(()=>[r("div",se,[a(_,{modelValue:o.public_key_crt,"onUpdate:modelValue":t[5]||(t[5]=i=>o.public_key_crt=i),api:"sys/document/aliyun"},null,8,["modelValue"])]),r("div",re,p(l(e)("publicKeyTips")),1)]),_:1},8,["label"]),a(n,{label:l(e)("alipayPublicKey")},{default:s(()=>[r("div",pe,[a(_,{modelValue:o.alipay_public_key_crt,"onUpdate:modelValue":t[6]||(t[6]=i=>o.alipay_public_key_crt=i),api:"sys/document/aliyun"},null,8,["modelValue"])]),r("div",ne,p(l(e)("alipayPublicKeyTips")),1)]),_:1},8,["label"]),a(n,{label:l(e)("alipayWithCrt")},{default:s(()=>[r("div",de,[a(_,{modelValue:o.alipay_with_crt,"onUpdate:modelValue":t[7]||(t[7]=i=>o.alipay_with_crt=i),api:"sys/document/aliyun"},null,8,["modelValue"])]),r("div",ue,p(l(e)("alipayWithCrtTips")),1)]),_:1},8,["label"])]),_:1}),a(m,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:s(()=>[r("h3",me,p(l(e)("theServerSetting")),1),a(n,{label:"AESKey"},{default:s(()=>[a(c,{modelValue:o.aes_key,"onUpdate:modelValue":t[8]||(t[8]=i=>o.aes_key=i),modelModifiers:{trim:!0},placeholder:l(e)("AESKeyPlaceholder"),class:"input-width","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),a(m,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:s(()=>[r("h3",ce,p(l(e)("functionSetting")),1),a(n,{label:l(e)("serveWhiteList")},{default:s(()=>[a(c,{"model-value":o.request_url,class:"input-width",readonly:!0},{append:s(()=>[r("div",{class:"cursor-pointer",onClick:t[9]||(t[9]=i=>S(o.request_url))},p(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"])),[[B,u.value]]),r("div",_e,[r("div",fe,[a(A,{type:"primary",loading:u.value,onClick:t[10]||(t[10]=i=>q(f.value))},{default:s(()=>[g(p(l(e)("save")),1)]),_:1},8,["loading"])])])])}}});export{ea as default};
