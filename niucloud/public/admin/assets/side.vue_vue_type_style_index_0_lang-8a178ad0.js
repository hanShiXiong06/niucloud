import{d as F,G as V,j as H,r as _,l as N,aZ as U,ca as x,h as c,s as g,w as n,e as r,u as i,c as f,B as $,W as q,F as D,a as d,y as G,aa as I,H as y,er as K,K as O,bR as W,ei as Z,U as z,O as J,A as P}from"./index-0b74b7aa.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                 *//* empty css                        */import{_ as Q}from"./icon-addon-one-638e965c.js";import{_ as T}from"./menu-item.vue_vue_type_style_index_0_lang-851506cb.js";const X={key:0,class:"logo flex items-center m-auto h-[64px]"},Y=d("div",{class:"flex justify-center items-center w-full h-[40px]"},[d("img",{class:"max-w-[40px]",src:Q,alt:"","object-fit":"contain"})],-1),ee={key:1,class:"logo flex items-center justify-center h-[64px]"},se=d("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),ae=[se],te=d("div",{class:"h-[48px]"},null,-1),fe=F({__name:"side",setup(ne){const p=V(),o=H(),v=G(),s=o.siteInfo,k=o.routers,w=o.addonIndexRoute,l=_([]),u={},S=N(()=>o.siteInfo.icon?o.siteInfo.icon:p.website.icon),h=_([]),E=async()=>{const e=await I();h.value=e.data,y.set({key:"defaultAppList",data:h.value})},m=_([]),L=async()=>{const e=await K();m.value=e.data.list,y.set({key:"specialAppList",data:m.value})};if(U(()=>{E(),L()}),k.forEach((e,t)=>{e.original_name=e.name,e.meta.addon==""?e.meta.attr==""&&e.name!="sign"&&e.name!="verify"&&(e.children&&e.children.length&&(e.name=x(e.children)),l.value.push(e)):e.meta.addon!=""&&(s==null?void 0:s.apps.length)==1&&(s==null?void 0:s.apps[0].key)==e.meta.addon&&e.meta.show?e.children?(e.children.forEach(a=>{a.original_name=a.name,a.children&&a.children.length&&(a.name=x(a.children))}),l.value.unshift(...e.children)):l.value.unshift(e):u[e.meta.addon]=e}),(s==null?void 0:s.apps.length)>1){const e=[];s==null||s.apps.forEach(t=>{u[t.key]&&(u[t.key].name=w[t.key],e.push(u[t.key]))}),l.value.unshift(...e)}return(e,t)=>{const a=O,b=W,j=Z,R=z,A=J,B=P;return c(),g(B,{class:"w-[200px] h-screen flex flex-col"},{default:n(()=>[r(b,{class:"logo-wrap flex items-center justify-center h-[64px]"},{default:n(()=>[i(p).menuIsCollapse?(c(),f("div",ee,ae)):(c(),f("div",X,[r(a,{style:{width:"40px",height:"40px"},src:i($)(i(S)),fit:"contain"},{error:n(()=>[Y]),_:1},8,["src"])]))]),_:1}),r(A,{class:"menu-wrap"},{default:n(()=>[r(R,null,{default:n(()=>[r(j,{"default-active":i(v).name,router:!0,"background-color":"--side-dark-color","text-color":"#fff","active-text-color":"#fff","unique-opened":!0,collapse:i(p).menuIsCollapse},{default:n(()=>[(c(!0),f(D,null,q(l.value,(C,M)=>(c(),g(T,{routes:C,key:M},null,8,["routes"]))),128))]),_:1},8,["default-active","collapse"]),te]),_:1})]),_:1})]),_:1})}}});export{fe as _};
