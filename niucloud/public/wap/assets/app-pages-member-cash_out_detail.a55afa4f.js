import{d as e,M as a,ak as t,r as s,L as l,W as r,c0 as u,as as n,bh as f,o as i,c,w as x,e as p,Y as d,i as o,B as v,C as m,D as _,f as y,Z as g,j as h,E as w,c1 as b,aJ as k,t as j,c2 as C,aC as I,S as T,J as N,m as O,k as R,l as B,R as S,K as z,p as J,z as L}from"./index-5dd3a833.js";import{_ as M,a as Y}from"./u-steps.889eccba.js";import{_ as A}from"./u-avatar.383b1c6c.js";import{_ as D}from"./loading-page.vue_vue_type_script_setup_true_lang.e4ca9eb6.js";import{_ as E}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.2d8c39b5.js";import"./u-text.ee9bb21e.js";import"./u-loading-icon.63963092.js";import"./u-transition.22a584d7.js";const F=E(e({__name:"cash_out_detail",setup(e){a()&&t.init();const E=s({}),F=s(0),K=s(!0),V=s(!1);let W=null,Z=uni.getStorageSync("openid")||"";l(e=>{let a=e.id||"";if(a)q(a);else{r({url:"/app/pages/member/cash_out",title:"提现详情不存在",mode:"reLaunch"})}});const q=e=>{K.value=!0,u(e).then(e=>{E.value=e.data,"wechatpay"==E.value.transfer_type&&(1==E.value.status?F.value=0:2==E.value.status||4==E.value.status?F.value=1:3==E.value.status&&(F.value=2)),K.value=!1}).catch(()=>{K.value=!1})},G=()=>{if(!Z)return w({title:"请到微信公众号或小程序中进行提现",icon:"none"}),!1;if(V.value)return!1;V.value=!0;let e={id:E.value.id,open_id:Z};b(e).then(e=>{let a={mchId:e.data.extra.mch_id,appId:e.data.extra.appid,package:e.data.package_info};t.transfer(a,e=>{V.value=!1,W=setTimeout(()=>{q(E.value.id),clearTimeout(W)},6e3)})}).catch(e=>{V.value=!1})},H=()=>{if(!Z)return w({title:"请到微信公众号或小程序中进行提现",icon:"none"}),!1;if(V.value)return!1;V.value=!0;let e={mchId:E.value.transfer.extra.mch_id,appId:E.value.transfer.extra.appid,package:E.value.transfer.package_info};t.transfer(e,e=>{V.value=!1,W=setTimeout(()=>{q(E.value.id),clearTimeout(W)},6e3)})},P=()=>{k({title:"提示",content:"您确定取消提现吗？",confirmColor:j().themeColor["--primary-color"],success:e=>{e.confirm&&C({id:E.value.id}).then(()=>{W=setTimeout(()=>{q(E.value.id),clearTimeout(W)})})}})};return n(()=>{try{f()}catch(e){}}),(e,a)=>{const t=N,s=O,l=R(B("u-steps-item"),M),r=R(B("u-steps"),Y),u=R(B("u-avatar"),A),n=S,f=z,w=R(B("loading-page"),D),b=J("layout-default-uni");return i(),c(b,null,{default:x(()=>[p(s,{class:"min-h-[100vh] bg-[var(--page-bg-color)] overflow-hidden",style:h(e.themeColor())},{default:x(()=>[K.value?o("v-if",!0):(i(),d(g,{key:0},[p(s,{class:"sidebar-margin card-template mt-[20rpx] !pt-[60rpx] !pb-[40rpx]"},{default:x(()=>[o(' <view class="flex flex-col justify-center items-center mb-[44rpx]" v-if="cashOutInfo.status == 4 && cashOutInfo.transfer_type == \'wechatpay\'">\n                  <image class="h-[70rpx] w-[70rpx] mb-[24rpx]" :src="img(\'static/resource/images/member/apply_withdrawal/transfer.png\')" mode="widthFix" />\n                  <view class="text-[28rpx] text-[#333]">处理中，预计2小时内到账</view>\n                </view> '),p(s,{class:"flex items-center flex-col mb-[80rpx]"},{default:x(()=>[p(t,{class:"text-[60rpx] font-bold price-font mb-[16rpx]"},{default:x(()=>[v(m(E.value.apply_money),1)]),_:1}),p(t,{class:_(["text-[28rpx] text-[#333]",{"text-primary":1==E.value.status,"text-[#999]":4==E.value.status}])},{default:x(()=>[v(m(E.value.status_name),1)]),_:1},8,["class"])]),_:1}),o(" 状态1.待审核2.待转账 3.已转账 4.转账中 -1拒绝' "),p(s,null,{default:x(()=>[p(s,{class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("cashOutNo")),1)]),_:1}),p(t,{class:"text-[#333]"},{default:x(()=>[v(m(E.value.cash_out_no),1)]),_:1})]),_:1}),Number(E.value.service_money)?(i(),c(s,{key:0,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("serviceMoney")),1)]),_:1}),p(t,{class:"text-[#333]"},{default:x(()=>[v("￥"+m(E.value.service_money),1)]),_:1})]),_:1})):o("v-if",!0),p(s,{class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("createTime")),1)]),_:1}),p(t,{class:"text-[#333]"},{default:x(()=>[v(m(E.value.create_time),1)]),_:1})]),_:1}),E.value.status&&E.value.audit_time?(i(),c(s,{key:1,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("auditTime")),1)]),_:1}),p(t,{class:"text-[#333]"},{default:x(()=>[v(m(E.value.audit_time),1)]),_:1})]),_:1})):o("v-if",!0),-1==E.value.status&&E.value.refuse_reason?(i(),c(s,{key:2,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx] flex-shrink-0"},{default:x(()=>[v(m(y(L)("refuseReason")),1)]),_:1}),p(t,{class:"text-[#333] ml-[20rpx] text-right"},{default:x(()=>[v(m(E.value.refuse_reason),1)]),_:1})]),_:1})):o("v-if",!0),3==E.value.status?(i(),c(s,{key:3,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferTypeName")),1)]),_:1}),p(t,{class:"text-[#333] truncate"},{default:x(()=>[v(m(E.value.transfer_type_name),1)]),_:1})]),_:1})):o("v-if",!0)]),_:1})]),_:1}),"wechatpay"!=E.value.transfer_type||2!=E.value.status&&3!=E.value.status&&4!=E.value.status?o("v-if",!0):(i(),c(s,{key:0,class:"sidebar-margin card-template mt-[20rpx]"},{default:x(()=>[p(r,{current:F.value,direction:"column",activeColor:"var(--primary-color)",activeIcon:"checkmark-circle-fill",inactiveIcon:"checkmark-circle-fill"},{default:x(()=>[p(l,{title:"提现申请",desc:E.value.create_time},null,8,["desc"]),p(l,{title:"处理中",desc:E.value.audit_time?E.value.audit_time:""},null,8,["desc"]),p(l,{title:"提现成功",desc:E.value.transfer_time?E.value.transfer_time:""},null,8,["desc"])]),_:1},8,["current"])]),_:1})),p(s,{class:"sidebar-margin card-template mt-[20rpx]"},{default:x(()=>[p(s,{class:"title"},{default:x(()=>[v(m(y(L)("proceedsInfo")),1)]),_:1}),p(s,{class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferAccount")),1)]),_:1}),p(t,{class:"text-[#333] truncate"},{default:x(()=>[v(m("wechatpay"==E.value.transfer_type?"微信零钱":E.value.transfer_account),1)]),_:1})]),_:1}),"wechatpay"==E.value.transfer_type?(i(),d(g,{key:0},[p(s,{class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferNickname")),1)]),_:1}),p(t,{class:"text-[#333]"},{default:x(()=>[v(m(E.value.nickname),1)]),_:1})]),_:1}),p(s,{class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferImg")),1)]),_:1}),p(u,{src:y(T)(E.value.headimg),size:"30",leftIcon:"none","default-url":y(T)("static/resource/images/default_headimg.png")},null,8,["src","default-url"])]),_:1})],64)):o("v-if",!0),"wechatpay"!==E.value.transfer_type?(i(),d(g,{key:1},[p(s,{class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m("bank"==E.value.transfer_type?y(L)("bankRealname"):y(L)("realname")),1)]),_:1}),p(t,{class:"text-[#333]"},{default:x(()=>[v(m(E.value.transfer_realname),1)]),_:1})]),_:1}),E.value.transfer_bank?(i(),c(s,{key:0,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferBank")),1)]),_:1}),p(t,{class:"text-[#333] truncate"},{default:x(()=>[v(m(E.value.transfer_bank),1)]),_:1})]),_:1})):o("v-if",!0),"wechat_code"==E.value.transfer_type||"alipay"==E.value.transfer_type?(i(),c(s,{key:1,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferCode")),1)]),_:1}),p(s,{class:"flex items-center",onClick:a[0]||(a[0]=e=>{I({urls:[T(E.value.transfer_payment_code)],indicator:"number",loop:!0})})},{default:x(()=>[p(n,{src:y(T)(E.value.transfer_payment_code),class:"w-[140rpx] h-[140rpx] rounded-[var(--rounded-small)]"},null,8,["src"])]),_:1})]),_:1})):o("v-if",!0)],64)):o("v-if",!0)]),_:1}),3==E.value.status?(i(),c(s,{key:1,class:"sidebar-margin card-template my-[20rpx]"},{default:x(()=>[p(s,{class:"title"},{default:x(()=>[v(m(y(L)("transferInfo")),1)]),_:1}),E.value.transfer_time?(i(),c(s,{key:0,class:"flex justify-between text-[28rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferTime")),1)]),_:1}),p(t,{class:"text-[#333] truncate"},{default:x(()=>[v(m(E.value.transfer_time),1)]),_:1})]),_:1})):o("v-if",!0),E.value.transfer_no?(i(),c(s,{key:1,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferNo")),1)]),_:1}),p(t,{class:"text-[#333] truncate"},{default:x(()=>[v(m(E.value.transfer.transfer_no),1)]),_:1})]),_:1})):o("v-if",!0),E.value.transfer&&E.value.transfer.transfer_remark?(i(),c(s,{key:2,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx] flex-shrink-0"},{default:x(()=>[v(m(y(L)("transferRemark")),1)]),_:1}),p(t,{class:"text-[#333] ml-[20rpx]"},{default:x(()=>[v(m(E.value.transfer.transfer_remark),1)]),_:1})]),_:1})):o("v-if",!0),E.value.transfer&&E.value.transfer.transfer_voucher?(i(),c(s,{key:3,class:"flex justify-between text-[28rpx] mt-[34rpx] leading-[32rpx]"},{default:x(()=>[p(t,{class:"text-[#333] w-[200rpx]"},{default:x(()=>[v(m(y(L)("transferVoucher")),1)]),_:1}),p(s,{class:"flex items-center",onClick:a[1]||(a[1]=e=>{I({urls:[T(E.value.transfer.transfer_voucher)],indicator:"number",loop:!0})})},{default:x(()=>[p(n,{src:y(T)(E.value.transfer.transfer_voucher),class:"w-[140rpx] h-[140rpx] rounded-[var(--rounded-small)]"},null,8,["src"])]),_:1})]),_:1})):o("v-if",!0)]),_:1})):o("v-if",!0),1==E.value.status||2==E.value.status||4==E.value.status?(i(),c(s,{key:2,class:"tab-bar-placeholder"})):o("v-if",!0),1==E.value.status||2==E.value.status||4==E.value.status?(i(),c(s,{key:3,class:"fixed bottom-[0] tab-bar left-0 right-0 px-[var(--sidebar-m)] bg-[#fff] flex items-center justify-end min-h-[100rpx]"},{default:x(()=>[1==E.value.status||2==E.value.status||4==E.value.status?(i(),c(f,{key:0,class:"min-w-[180rpx] box-border text-[26rpx] h-[70rpx] flex-center border-[2rpx] border-solid border-[#999] rounded-full !text-[var(--text-color-light6)] mr-0",onClick:P},{default:x(()=>[v(m(y(L)("cashOutCancel")),1)]),_:1})):o("v-if",!0),"wechatpay"==E.value.transfer_type&&2==E.value.status?(i(),c(f,{key:1,class:"min-w-[180rpx] h-[70rpx] !text-[#fff] leading-[70rpx] primary-btn-bg rounded-[50rpx] text-[26rpx] ml-[20rpx] mr-0",loading:V.value,onClick:G},{default:x(()=>[v(m(y(L)("cashOutNow")),1)]),_:1},8,["loading"])):"wechatpay"==E.value.transfer_type&&4==E.value.status?(i(),c(f,{key:2,class:"min-w-[180rpx] h-[70rpx] !text-[#fff] leading-[70rpx] primary-btn-bg rounded-[50rpx] text-[26rpx] ml-[20rpx] mr-0",loading:V.value,onClick:H},{default:x(()=>[v(m(y(L)("cashOutNow")),1)]),_:1},8,["loading"])):o("v-if",!0)]),_:1})):o("v-if",!0)],64)),p(w,{loading:K.value},null,8,["loading"])]),_:1},8,["style"])]),_:1})}}}),[["__scopeId","data-v-15603f1c"]]);export{F as default};
