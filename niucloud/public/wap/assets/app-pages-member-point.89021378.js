import{d as e,a as t,s as a,r,L as l,c6 as s,c7 as p,o as x,c as n,w as o,e as c,Y as i,j as u,f as d,B as f,C as g,Z as m,a9 as b,i as _,b as h,m as v,R as y,J as k,K as w,k as j,l as F,p as C,S as E,T as I}from"./index-c3bd19d7.js";import{_ as B}from"./loading-page.vue_vue_type_script_setup_true_lang.b745a0f5.js";import{t as R}from"./topTabbar.9a3c8195.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.e306857f.js";import"./u-transition.35c8ef6d.js";const z=S(e({__name:"point",setup(e){R().setTopTabbarParam({title:"我的积分"});const S=t(),z=a(()=>({backgroundImage:"url("+E("static/resource/images/member/point/point_bg.png")+") ",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"bottom"})),T=a(()=>Object.keys(S.menuButtonInfo).length?I(Number(S.menuButtonInfo.height))+I(S.menuButtonInfo.top)+50+"rpx":"50rpx"),J=r({}),P=r([]),K=r(!0);l(async()=>{let e=await s(),t=await p();J.value=e.data,P.value=t.data,K.value=!1});const L=(e="",t={})=>{h({url:e,param:t})};return(e,t)=>{const a=v,r=y,l=k,s=w,p=j(F("loading-page"),B),h=C("layout-default-uni");return x(),n(h,null,{default:o(()=>[c(a,{class:"bg-[var(--page-bg-color)] min-h-[100vh]",style:u(e.themeColor())},{default:o(()=>[K.value?_("v-if",!0):(x(),i(m,{key:0},[c(a,{class:"w-full bg-[var(--page-bg-color)]"},{default:o(()=>[c(a,{class:"pb-[210rpx] relative",style:u(d(z))},{default:o(()=>[c(a,{class:"text-[70rpx] leading-[90rpx] text-[#fff] pl-[60rpx] font-500 pt-[77rpx] price-font"},{default:o(()=>[f(g(J.value.point||0),1)]),_:1}),c(a,{class:"flex items-center pl-[60rpx]"},{default:o(()=>[c(r,{class:"h-[36rpx] w-[36rpx] -mb-[4rpx]",src:d(E)("static/resource/images/member/point/icon.png"),mode:"heightFix"},null,8,["src"]),c(a,{class:"text-[26rpx] leading-[36rpx] text-[#fff] ml-[10rpx]"},{default:o(()=>[f("我的积分")]),_:1})]),_:1}),c(a,{class:"side-tab",style:u({top:d(T)}),onClick:t[0]||(t[0]=e=>L("/app/pages/member/point_detail"))},{default:o(()=>[c(l,{class:"nc-iconfont nc-icon-jifenduihuanV6xx1 icon"}),c(l,{class:"desc"},{default:o(()=>[f("积分明细")]),_:1})]),_:1},8,["style"])]),_:1},8,["style"]),c(a,{class:"sidebar-margin flex flex-col mt-[-178rpx] relative"},{default:o(()=>[c(a,{class:"w-[322rpx] h-[80rpx] text-[30rpx] text-[#333] font-500 box-border pl-[30rpx] pt-[var(--pad-top-m)] rounded-tl-[var(--rounded-big)] overflow-hidden mb-[-2rpx]",style:u({backgroundImage:"url("+d(E)("static/resource/images/member/point/top_bg.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})},{default:o(()=>[c(l,{class:"leading-[42rpx]"},{default:o(()=>[f("积分详情")]),_:1})]),_:1},8,["style"]),c(a,{class:"flex items-center px-[30rpx] rounded-[var(--rounded-big)] !rounded-tl-none bg-[#fff] h-[173rpx] box-border"},{default:o(()=>[c(a,{class:"w-[196rpx] flex-shrink-0 text-center"},{default:o(()=>[c(a,{class:"text-[#333] text-[42rpx] leading-[54rpx] price-font"},{default:o(()=>[f(g(J.value.point_get||0),1)]),_:1}),c(a,{class:"mt-[8rpx] text-[var(--text-color-light6)] text-[26rpx] leading-[36rpx] font-400"},{default:o(()=>[f("累计积分")]),_:1})]),_:1}),c(a,{class:"w-[1rpx] h-[50rpx] flex-shrink-0 bg-[var(--temp-bg)] mx-[10rpx]"}),c(a,{class:"w-[196rpx] flex-shrink-0 text-center"},{default:o(()=>[c(a,{class:"text-[#333] text-[42rpx] leading-[54rpx] price-font"},{default:o(()=>[f(g(J.value.use||0),1)]),_:1}),c(a,{class:"mt-[8rpx] text-[var(--text-color-light6)] text-[26rpx] leading-[36rpx] font-400"},{default:o(()=>[f("累计消费")]),_:1})]),_:1}),c(a,{class:"w-[1rpx] h-[50rpx] flex-shrink-0 bg-[var(--temp-bg)] mx-[10rpx]"}),c(a,{class:"w-[196rpx] min-w-[209.33rpx] flex-shrink-0 text-center"},{default:o(()=>[c(a,{class:"text-[#333] text-[42rpx] leading-[54rpx] price-font"},{default:o(()=>[f(g(J.value.point||0),1)]),_:1}),c(a,{class:"mt-[8rpx] text-[var(--text-color-light6)] text-[26rpx] leading-[36rpx] font-400"},{default:o(()=>[f("可用积分")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),c(a,{class:"mt-[var(--top-m)] sidebar-margin card-template"},{default:o(()=>[c(a,{class:"title"},{default:o(()=>[f("热门活动")]),_:1}),c(a,{class:"mt-[60rpx] flex justify-between"},{default:o(()=>[c(a,{class:"w-[200rpx] h-[253rpx] box-border pt-[69rpx] relative text-center",style:u({backgroundImage:"url("+d(E)("static/resource/images/member/point/activity_1.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})},{default:o(()=>[c(r,{class:"h-[78rpx] w-[78rpx] absolute left-[65rpx] top-[-21rpx]",src:d(E)("static/resource/images/member/point/activity_icon_1.png"),mode:"heightFix"},null,8,["src"]),c(a,{class:"text-[28rpx] leading-[39rpx] text-[#333]"},{default:o(()=>[f("每日赚积分")]),_:1}),c(a,{class:"mt-[10rpx] text-[24rpx] leading-[34rpx] text-[var(--text-color-light6)]"},{default:o(()=>[f("每日签到")]),_:1}),c(a,{class:"w-full flex justify-center mt-[20rpx]"},{default:o(()=>[c(s,{class:"h-[54rpx] !m-0 rounded-[100rpx] text-[24rpx] flex-center !text-[#fff]",shape:"circle",style:u({background:"linear-gradient( 94deg, #FB7939 0%, #FE120E 99%), #EF000C"}),onClick:t[1]||(t[1]=e=>L("/app/pages/member/sign_in"))},{default:o(()=>[f("去签到")]),_:1},8,["style"])]),_:1})]),_:1},8,["style"]),c(a,{class:"w-[200rpx] h-[253rpx] box-border pt-[69rpx] relative text-center",style:u({backgroundImage:"url("+d(E)("static/resource/images/member/point/activity_2.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})},{default:o(()=>[c(r,{class:"h-[78rpx] w-[78rpx] absolute left-[65rpx] top-[-21rpx]",src:d(E)("static/resource/images/member/point/activity_icon_2.png"),mode:"heightFix"},null,8,["src"]),c(a,{class:"text-[28rpx] leading-[39rpx] text-[#333]"},{default:o(()=>[f("积分当钱花")]),_:1}),c(a,{class:"mt-[10rpx] text-[24rpx] leading-[34rpx] text-[var(--text-color-light6)]"},{default:o(()=>[f("抵扣部分费用")]),_:1}),c(a,{class:"w-full flex justify-center mt-[20rpx]"},{default:o(()=>[c(s,{class:"h-[54rpx] !m-0 rounded-[100rpx] text-[24rpx] flex-center !text-[#fff]",shape:"circle",style:u({background:"linear-gradient( 94deg, #FB7939 0%, #FE120E 99%), #EF000C"}),onClick:t[2]||(t[2]=e=>L("/addon/shop/pages/point/index"))},{default:o(()=>[f("去兑换")]),_:1},8,["style"])]),_:1})]),_:1},8,["style"]),c(a,{class:"w-[200rpx] h-[253rpx] box-border pt-[69rpx] relative text-center",style:u({backgroundImage:"url("+d(E)("static/resource/images/member/point/activity_3.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})},{default:o(()=>[c(r,{class:"h-[78rpx] w-[78rpx] absolute left-[65rpx] top-[-21rpx]",src:d(E)("static/resource/images/member/point/icon.png"),mode:"heightFix"},null,8,["src"]),c(a,{class:"text-[28rpx] leading-[39rpx] text-[#333]"},{default:o(()=>[f("购物返积分")]),_:1}),c(a,{class:"mt-[10rpx] text-[24rpx] leading-[34rpx] text-[var(--text-color-light6)]"},{default:o(()=>[f("下单得积分")]),_:1}),c(a,{class:"w-full flex justify-center mt-[20rpx]"},{default:o(()=>[c(s,{class:"h-[54rpx] !m-0 rounded-[100rpx] text-[24rpx] flex-center !text-[#fff]",shape:"circle",style:u({background:"linear-gradient( 94deg, #FB7939 0%, #FE120E 99%), #EF000C"}),onClick:t[3]||(t[3]=e=>L("/addon/shop/pages/goods/list"))},{default:o(()=>[f("去逛逛")]),_:1},8,["style"])]),_:1})]),_:1},8,["style"])]),_:1})]),_:1}),P.value.length?(x(),n(a,{key:0,class:"mt-[var(--top-m)] sidebar-margin card-template"},{default:o(()=>[c(a,{class:"title"},{default:o(()=>[f("做任务领积分")]),_:1}),(x(!0),i(m,null,b(P.value,(e,t)=>(x(),n(a,{class:"flex items-center justify-between mt-[30rpx]"},{default:o(()=>[c(a,{class:"flex items-center flex-1"},{default:o(()=>[c(r,{class:"h-[80rpx] w-[80rpx]",src:d(E)(e.icon||""),mode:"heightFix"},null,8,["src"]),c(a,{class:"flex flex-col ml-[20rpx]"},{default:o(()=>[c(l,{class:"text-[28rpx]"},{default:o(()=>[f(g(e.title),1)]),_:2},1024),c(a,{class:"mt-[14rpx] text-[var(--text-color-light6)] text-[24rpx] font-400"},{default:o(()=>[f(g(e.desc),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e.button?(x(),n(s,{key:0,class:"h-[54rpx] !m-0 rounded-[40rpx] text-[24rpx] flex-center !text-[#fff] primary-btn-bg",shape:"circle",onClick:t=>L(e.button.wap_redirect)},{default:o(()=>[f(g(e.button.text),1)]),_:2},1032,["onClick"])):_("v-if",!0)]),_:2},1024))),256))]),_:1})):_("v-if",!0)],64)),c(p,{loading:K.value},null,8,["loading"])]),_:1},8,["style"])]),_:1})}}}),[["__scopeId","data-v-0ea10bc8"]]);export{z as default};
