import{E as R,__tla as j}from"./el-input.656459b1.js";import{E as z,a as F,__tla as H}from"./el-overlay.90159d1d.js";import{u as T,_ as A,t as D,__tla as G}from"./test.a3ad2058.js";import{E as J,__tla as K}from"./el-button.acd5855e.js";import{f as M,h as N,i as h,x as d,L as O,bH as Q,o as S,k as W,l as c,t as y,u as _,m as r,w as i,p as $,c4 as X,c5 as Y,q as o,__tla as Z}from"./entry.d8ede324.js";import{u as ee,__tla as ae}from"./useLogin.f93339fe.js";import{_ as le}from"./_plugin-vue_export-helper.c27b6911.js";import{__tla as te}from"./use-form-item.e83b7e12.js";import{__tla as re}from"./index.5bd14e7b.js";import{__tla as oe}from"./index.2e23099d.js";import{__tla as _e}from"./_initCloneObject.eadf0a47.js";import{__tla as ie}from"./vnode.c0fca1a3.js";import{__tla as se}from"./throttle.4c48c49b.js";import{__tla as me}from"./debounce.ac21d949.js";let g,ne=Promise.all([(()=>{try{return j}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return re}catch{}})(),(()=>{try{return oe}catch{}})(),(()=>{try{return _e}catch{}})(),(()=>{try{return ie}catch{}})(),(()=>{try{return se}catch{}})(),(()=>{try{return me}catch{}})()]).then(async()=>{const v={class:"w-full h-full bg-page flex items-center justify-center"},x={class:"flex bg-white"},k={class:"bg-white w-[380px] p-[30px]"},V={class:"flex items-end mb-[30px] mt-[15px]"},w={class:"mr-[20px] text-base cursor-pointer leading-none font-bold"},P=M({__name:"bind",setup(ce){const f=N(),E=h(()=>f.info),s=d(!1),l=O({mobile:"",mobile_code:"",mobile_key:"",openid:Q("openId").value}),q=h(()=>({mobile:[{type:"string",required:!0,message:o("mobilePlaceholder"),trigger:["blur","change"]},{validator(e,a,m){return D.mobile(a)},message:o("mobileError"),trigger:["change","blur"]}],mobile_code:{type:"string",required:!0,message:o("codePlaceholder"),trigger:["blur","change"]}})),u=d(),C=async()=>{var e;await((e=u.value)==null?void 0:e.validate(async(a,m)=>{if(a){if(s.value)return;s.value=!0,(E.value?X:Y)(l).then(t=>{f.setToken(t.data.token),ee().handleLoginBack()}).catch(()=>{s.value=!1,p.refresh()})}}))},p=T(l);p.refresh();const b=d(null),U=async()=>{var e;await((e=u.value)==null?void 0:e.validateField("mobile",async(a,m)=>{var t;a&&((t=b.value)==null||t.send())}))};return(e,a)=>{const m=R,t=z,B=A,I=J,L=F;return S(),W("div",v,[c("div",x,[c("div",k,[c("div",V,[c("div",w,y(("t"in e?e.t:_(o))("mobileBind")),1)]),r(L,{model:l,ref_key:"formRef",ref:u,rules:_(q),"validate-on-rule-change":!1},{default:i(()=>[c("div",null,[r(t,{prop:"mobile"},{default:i(()=>[r(m,{modelValue:l.mobile,"onUpdate:modelValue":a[0]||(a[0]=n=>l.mobile=n),placeholder:("t"in e?e.t:_(o))("mobilePlaceholder"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),r(t,{prop:"mobile_code"},{default:i(()=>[r(m,{modelValue:l.mobile_code,"onUpdate:modelValue":a[2]||(a[2]=n=>l.mobile_code=n),placeholder:("t"in e?e.t:_(o))("codePlaceholder")},{suffix:i(()=>[r(B,{mobile:l.mobile,type:"login",modelValue:l.mobile_key,"onUpdate:modelValue":a[1]||(a[1]=n=>l.mobile_key=n),onClick:U,ref_key:"smsCodeRef",ref:b},null,8,["mobile","modelValue"])]),_:1},8,["modelValue","placeholder"])]),_:1})]),r(t,null,{default:i(()=>[r(I,{type:"primary",class:"mt-[20px] w-full",size:"large",onClick:C,loading:s.value},{default:i(()=>[$(y(s.value?("t"in e?e.t:_(o))("binding"):("t"in e?e.t:_(o))("bind")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])}}});g=le(P,[["__scopeId","data-v-df34af55"]])});export{ne as __tla,g as default};
