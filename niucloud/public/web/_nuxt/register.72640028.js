import{u as $,E as ee,_ as ae,t as le,__tla as re}from"./test.a3ad2058.js";import{E as te,__tla as se}from"./el-input.656459b1.js";import{E as oe,a as ie,__tla as ne}from"./el-overlay.90159d1d.js";import{E as ce,__tla as de}from"./el-button.acd5855e.js";import{_ as me,__tla as ue}from"./nuxt-link.ab4191a6.js";import{f as _e,h as pe,bC as ge,x as b,i as U,L as he,o as y,k as v,l as c,m as t,u as a,M as fe,N as be,w as i,a7 as A,aa as V,p as w,t as u,y as ye,c2 as ve,c3 as we,P as xe,C as ke,q as r,s as Ae,v as Ve,__tla as Pe}from"./entry.d8ede324.js";import{u as qe,__tla as Ce}from"./useLogin.f93339fe.js";import{_ as Ue}from"./_plugin-vue_export-helper.c27b6911.js";import{__tla as Se}from"./throttle.4c48c49b.js";import{__tla as Ee}from"./debounce.ac21d949.js";import{__tla as Le}from"./use-form-item.e83b7e12.js";import{__tla as Re}from"./index.5bd14e7b.js";import{__tla as Te}from"./index.2e23099d.js";import{__tla as je}from"./_initCloneObject.eadf0a47.js";import{__tla as ze}from"./vnode.c0fca1a3.js";let S,Be=Promise.all([(()=>{try{return re}catch{}})(),(()=>{try{return se}catch{}})(),(()=>{try{return ne}catch{}})(),(()=>{try{return de}catch{}})(),(()=>{try{return ue}catch{}})(),(()=>{try{return Pe}catch{}})(),(()=>{try{return Ce}catch{}})(),(()=>{try{return Se}catch{}})(),(()=>{try{return Ee}catch{}})(),(()=>{try{return Le}catch{}})(),(()=>{try{return Re}catch{}})(),(()=>{try{return Te}catch{}})(),(()=>{try{return je}catch{}})(),(()=>{try{return ze}catch{}})()]).then(async()=>{const P=h=>(Ae("data-v-f81f6c25"),h=h(),Ve(),h),E={class:"w-full h-full bg-page flex items-center justify-center"},L={class:"flex bg-white"},R={class:"flex flex-col items-center w-[330px] py-[100px] border-r"},T=P(()=>c("div",{class:"title font-bold text-xl"},"\u6253\u5F00\u624B\u673A\u5FAE\u4FE1",-1)),j=P(()=>c("div",{class:"tips text-sm mt-[5px]"},"\u70B9\u51FB\u53F3\u4E0A\u89D2\u6253\u5F00\u626B\u4E00\u626B",-1)),z={class:"qrcode mt-[30px] border leading-none"},B={class:"bg-white w-[380px] p-[30px]"},F={class:"flex items-end my-[30px]"},G=["onClick"],H={class:"py-0 leading-none"},M={class:"flex justify-end leading-none"},N={key:0,class:"text-xs py-[50rpx] flex justify-center w-full"},O={class:"text-primary"},Q={class:"text-primary"},Y=_e({__name:"register",setup(h){const I=pe(),m=ge();m.getLoginConfig();const n=b(""),J=U(()=>{const e=[];return m.login.is_username&&e.push({type:"username",title:r("usernameRegister")}),m.login.is_mobile&&!m.login.is_bind_mobile&&e.push({type:"mobile",title:r("mobileRegister")}),n.value=e[0]?e[0].type:"",e}),g=b(!1),s=he({username:"",password:"",confirm_password:"",mobile:"",mobile_code:"",mobile_key:"",captcha_key:"",captcha_code:""}),D=U(()=>({username:{type:"string",required:n.value=="username",message:r("usernamePlaceholder"),trigger:["blur","change"]},password:{type:"string",required:n.value=="username",message:r("passwordPlaceholder"),trigger:["blur","change"]},confirm_password:[{type:"string",required:n.value=="username",message:r("confirmPasswordPlaceholder"),trigger:["blur","change"]},{validator(e,l,p){return l==s.password},message:r("confirmPasswordError"),trigger:["change","blur"]}],mobile:[{type:"string",required:n.value=="mobile"||m.login.is_bind_mobile,message:r("mobilePlaceholder"),trigger:["blur","change"]},{validator(e,l,p){return n.value!="mobile"&&!m.login.is_bind_mobile?!0:le.mobile(l)},message:r("mobileError"),trigger:["change","blur"]}],mobile_code:{type:"string",required:n.value=="mobile"||m.login.is_bind_mobile,message:r("codePlaceholder"),trigger:["blur","change"]},captcha_code:{type:"string",required:n.value=="username",message:r("captchaPlaceholder"),trigger:["blur","change"]}})),x=b(),K=async()=>{var e;await((e=x.value)==null?void 0:e.validate(async(l,p)=>{if(l){if(g.value)return;g.value=!0,(n.value=="username"?ve:we)(s).then(d=>{I.setToken(d.data.token),qe().handleLoginBack()}).catch(()=>{g.value=!1,f.refresh()})}}))},f=$(s);f.refresh();const q=b(null),W=async()=>{var e;await((e=x.value)==null?void 0:e.validateField("mobile",async(l,p)=>{var d;l&&((d=q.value)==null||d.send())}))};return(e,l)=>{const p=ee,d=te,_=oe,X=ae,C=ce,k=me,Z=ie;return y(),v("div",E,[c("div",L,[c("div",R,[T,j,c("div",z,[t(p,{src:("img"in e?e.img:a(xe))("https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket=gQHU7zwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAySlJSbU1Sb0hiMlQxOEcwSGhBY1AAAgTSfStkAwRYAgAA"),class:"w-[120px]"},null,8,["src"])])]),c("div",B,[c("div",F,[(y(!0),v(fe,null,be(a(J),o=>(y(),v("div",{class:ke(["mr-[20px] text-base cursor-pointer leading-none",{"font-bold":a(n)==o.type}]),onClick:Fe=>n.value=o.type},u(o.title),11,G))),256))]),t(Z,{model:a(s),ref_key:"formRef",ref:x,rules:a(D),"validate-on-rule-change":!1},{default:i(()=>[A(c("div",null,[t(_,{prop:"username"},{default:i(()=>[t(d,{modelValue:a(s).username,"onUpdate:modelValue":l[0]||(l[0]=o=>a(s).username=o),placeholder:("t"in e?e.t:a(r))("usernamePlaceholder"),clearable:"","inline-message":!0},null,8,["modelValue","placeholder"])]),_:1}),t(_,{prop:"password"},{default:i(()=>[t(d,{modelValue:a(s).password,"onUpdate:modelValue":l[1]||(l[1]=o=>a(s).password=o),placeholder:("t"in e?e.t:a(r))("passwordPlaceholder"),type:"password",clearable:"","show-password":!0},null,8,["modelValue","placeholder"])]),_:1}),t(_,{prop:"confirm_password"},{default:i(()=>[t(d,{modelValue:a(s).confirm_password,"onUpdate:modelValue":l[2]||(l[2]=o=>a(s).confirm_password=o),placeholder:("t"in e?e.t:a(r))("confirmPasswordPlaceholder"),type:"password",clearable:"","show-password":!0},null,8,["modelValue","placeholder"])]),_:1})],512),[[V,a(n)=="username"]]),A(c("div",null,[t(_,{prop:"mobile"},{default:i(()=>[t(d,{modelValue:a(s).mobile,"onUpdate:modelValue":l[3]||(l[3]=o=>a(s).mobile=o),placeholder:("t"in e?e.t:a(r))("mobilePlaceholder"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(_,{prop:"mobile_code"},{default:i(()=>[t(d,{modelValue:a(s).mobile_code,"onUpdate:modelValue":l[5]||(l[5]=o=>a(s).mobile_code=o),placeholder:("t"in e?e.t:a(r))("codePlaceholder")},{suffix:i(()=>[t(X,{mobile:a(s).mobile,type:"login",modelValue:a(s).mobile_key,"onUpdate:modelValue":l[4]||(l[4]=o=>a(s).mobile_key=o),onClick:W,ref_key:"smsCodeRef",ref:q},null,8,["mobile","modelValue"])]),_:1},8,["modelValue","placeholder"])]),_:1})],512),[[V,a(n)=="mobile"||a(m).login.is_bind_mobile]]),A(c("div",null,[t(_,{prop:"captcha_code"},{default:i(()=>[t(d,{modelValue:a(s).captcha_code,"onUpdate:modelValue":l[7]||(l[7]=o=>a(s).captcha_code=o),placeholder:("t"in e?e.t:a(r))("captchaPlaceholder")},{suffix:i(()=>[c("div",H,[t(p,{src:a(f).image.value,class:"h-[30px] cursor-pointer",onClick:l[6]||(l[6]=o=>a(f).refresh())},null,8,["src"])])]),_:1},8,["modelValue","placeholder"])]),_:1})],512),[[V,a(n)=="username"]]),c("div",M,[t(k,{to:"/auth/login"},{default:i(()=>[t(C,{type:"primary",link:""},{default:i(()=>[w(u(("t"in e?e.t:a(r))("haveAccount"))+"\uFF0C"+u(("t"in e?e.t:a(r))("toLogin")),1)]),_:1})]),_:1})]),t(_,null,{default:i(()=>[t(C,{type:"primary",class:"mt-[20px] w-full",size:"large",onClick:K,loading:a(g)},{default:i(()=>[w(u(a(g)?("t"in e?e.t:a(r))("registering"):("t"in e?e.t:a(r))("register")),1)]),_:1},8,["loading"])]),_:1}),a(m).login.agreement_show?(y(),v("div",N,[w(u(("t"in e?e.t:a(r))("registerAgreeTips"))+" ",1),t(k,{to:"/auth/agreement?key=service"},{default:i(()=>[c("span",O,u(("t"in e?e.t:a(r))("userAgreement")),1)]),_:1}),w(" "+u(("t"in e?e.t:a(r))("and"))+" ",1),t(k,{to:"/auth/agreement?key=privacy"},{default:i(()=>[c("span",Q,u(("t"in e?e.t:a(r))("privacyAgreement")),1)]),_:1})])):ye("",!0)]),_:1},8,["model","rules"])])])])}}});S=Ue(Y,[["__scopeId","data-v-f81f6c25"]])});export{Be as __tla,S as default};
